# file opened: src/main.asm
  1   0000                  org 0x8000
  2   8000
  3   8000                  DEVICE ZXSPECTRUMNEXT
  4   8000              	CSPECTMAP main.map
  5   8000
  6   8000
  7   8000              start:
  8   8000 F3           	di
  9   8001 31 FE 7F     	ld sp,0x7FFE
 10   8004 ED 91 07 03  	nextreg $7,3 ;set Mhz mode (3=28mhz)
 11   8008 ED 91 15 0B  	nextreg $15,%00001011 ;sprites/layers system register
 12   800C CD 1A 85     	call game_init
 13   800F C3 12 80     	jp main_loop
 14   8012
 15   8012              main_loop:
 16   8012 CD 30 85     	call game_update
 17   8015 CD 42 85     	call game_draw
 18   8018 C3 12 80     	jp main_loop
 19   801B
 20   801B
 21   801B
 22   801B
 23   801B              STACK_SIZE equ 20
 24   801B 00 00 00...  stack_bottom ds STACK_SIZE, 0
 25   802F 00           stack_top db 0
 26   8030
 27   8030              	include 'retrotools\constants.asm'
# file opened: src/retrotools/constants.asm
  1+  8030              FALSE equ 0
  2+  8030              TRUE equ 1
  3+  8030
  4+  8030              DEAD equ 0
  5+  8030              ALIVE equ 1
  6+  8030
  7+  8030              NOT_VISIBLE equ 0
  8+  8030              VISIBLE equ 1
  9+  8030
 10+  8030              NOT_ENABLED equ 0
 11+  8030              ENABLED equ 1
 12+  8030
 13+  8030
 14+  8030              ;DIRECTIONS:
 15+  8030              LEFT equ 0
 16+  8030              RIGHT equ 1
 17+  8030              UP equ 2
 18+  8030              DOWN equ 3
 19+  8030
 20+  8030
 21+  8030              ;48k Screen
 22+  8030              SCREEN_WIDTH_CELLS equ 32
 23+  8030              SCREEN_HEIGHT_CELLS equ 24
 24+  8030
 25+  8030
 26+  8030
 27+  8030              ;Next Screen
 28+  8030              GUTTER equ 32
 29+  8030
 30+  8030
 31+  8030
 32+  8030
 33+  8030              END_OF_ARRAY equ 255
 34+  8030
 35+  8030
 36+  8030
 37+  8030
 38+  8030
 39+  8030
 40+  8030
 41+  8030
 42+  8030
 43+  8030
# file closed: src/retrotools/constants.asm
 28   8030              	include 'retrotools\tools.asm'
# file opened: src/retrotools/tools.asm
  1+  8030              ;MACROS
  2+  8030              	MACRO BREAKPOINT
  3+  8030 ~            		DW $01DD
  4+  8030              	ENDM
  5+  8030
  6+  8030              	MACRO CLIPTILES x1,y1,x2,y2
  7+  8030 ~            		ld a,x1
  8+  8030 ~            		nextreg $1b,a
  9+  8030 ~            		ld a,y1
 10+  8030 ~            		nextreg $1b,a
 11+  8030 ~            		ld a,x2
 12+  8030 ~            		nextreg $1b,a
 13+  8030 ~            		ld a,y2
 14+  8030 ~            		nextreg $1b,a
 15+  8030 ~
 16+  8030              	ENDM
 17+  8030
 18+  8030              	MACRO CLIP_LAYER2 x1,x2,y1,y2
 19+  8030 ~            		ld a,x1
 20+  8030 ~            		nextreg $18,a
 21+  8030 ~            		ld a,x2
 22+  8030 ~            		nextreg $18,a
 23+  8030 ~            		ld a,y1
 24+  8030 ~            		nextreg $18,a
 25+  8030 ~            		ld a,y2
 26+  8030 ~            		nextreg $18,a
 27+  8030 ~
 28+  8030              	ENDM
 29+  8030
 30+  8030
 31+  8030              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 32+  8030              ;; Wait for n clock cycles
 33+  8030              ;; Inputs: BC=n
 34+  8030              ;; Outputs: none
 35+  8030              ;; Destroys: A,BC
 36+  8030              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 37+  8030              wait:
 38+  8030 0B           	dec bc
 39+  8031 78           	ld a,b
 40+  8032 FE 00        	cp 0
 41+  8034 C2 30 80     	jp nz, wait
 42+  8037 C9           	ret
 43+  8038
 44+  8038
 45+  8038
 46+  8038              ;;;em00k wrote this;;;;
 47+  8038              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 48+  8038              ;; Wait for vertical blank
 49+  8038              ;; Inputs: B=frames delay count
 50+  8038              ;; Outputs:
 51+  8038              ;; Destroys:
 52+  8038              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 53+  8038              WaitRasterLine:
 54+  8038 CD 3E 80     	call RastererWait
 55+  803B 10 FB        	djnz WaitRasterLine
 56+  803D C9           	ret
 57+  803E              RastererWait:
 58+  803E C5           	push bc
 59+  803F 1E 10        	ld e,16
 59+  8041 3E 1F          ld a,$1f
 59+  8043 01 3B 24       ld bc,$243b
 59+  8046 ED 79          out (c),a
 59+  8048 04             inc b
 60+  8049              WaitForLinea:
 61+  8049 ED 78        	in a,(c)
 61+  804B BB             cp e
 61+  804C 20 FB          jr nz,WaitForLinea
 62+  804E C1           	pop bc
 63+  804F C9           	ret
 64+  8050
 65+  8050
 66+  8050
 67+  8050
 68+  8050
 69+  8050
 70+  8050
 71+  8050
 72+  8050
 73+  8050
 74+  8050
 75+  8050              LAYER2_ACCESS_PORT	EQU 	$123B
 76+  8050
 77+  8050              		;----------------
 78+  8050              		; Original code by Michael Ware adjustd to work with ZXB
 79+  8050              		; Plot tile to layer 2 (needs to accept > 256 tiles)
 80+  8050              		; in - hl = y/x tile coordinate (0-17, 0-31)
 81+  8050              		; in - a = number of tile to display
 82+  8050              		;----------------
 83+  8050              PlotTile8:
 84+  8050 ED 91 56 11  		nextreg $56,17
 85+  8054
 86+  8054 16 40        		ld d,64
 87+  8056 5F           		ld e,a					; 11
 88+  8057 ED 30        		mul
 89+  8059
 90+  8059 3E C0        		ld a,%11000000 			; this points to $c000
 91+  805B B2           		or d		 			; 8
 92+  805C EB           		ex de,hl				; 4			; cannot avoid an ex (de now = yx)
 93+  805D 67           		ld h,a					; 4
 94+  805E 7B           		ld a,e
 95+  805F 07           		rlca
 96+  8060 07           		rlca
 97+  8061 07           		rlca
 98+  8062 5F           		ld e,a					; 4+4+4+4+4 = 20	; mul x,8
 99+  8063 7A           		ld a,d
100+  8064 07           		rlca
101+  8065 07           		rlca
102+  8066 07           		rlca
103+  8067 57           		ld d,a					; 4+4+4+4+4 = 20	; mul y,8
104+  8068 E6 C0        		and 192
105+  806A F6 03        		or 3					; or 3 to keep layer on				; 8
106+  806C 01 3B 12     		ld bc,LAYER2_ACCESS_PORT
107+  806F ED 79        		out (c),a      ; 21			; select bank
108+  8071
109+  8071 7A           		ld a,d
110+  8072 E6 3F        		and 63
111+  8074 57           		ld d,a					; clear top 2 bits of y (dest) (4+4+4 = 12)
112+  8075              		; T96 here
113+  8075 3E 08        		ld a,8					; 7
114+  8077              .plotTilesLoop2:
115+  8077 D5           		push de					; 11
116+  8078 ED A0        		ldi
117+  807A ED A0        		ldi
118+  807C ED A0        		ldi
119+  807E ED A0        		ldi
120+  8080 ED A0        		ldi
121+  8082 ED A0        		ldi
122+  8084 ED A0        		ldi
123+  8086 ED A0        		ldi					; 8 * 16 = 128
124+  8088
125+  8088 D1           		pop de					; 11
126+  8089 14           		inc d					; 4 add 256 for next line down
127+  808A 3D           		dec a					; 4
128+  808B 20 EA        		jr nz,.plotTilesLoop2			; 12/7
129+  808D
130+  808D ED 91 56 0E  		nextreg $56,14 ;$0e
131+  8091 C9           		ret
132+  8092
133+  8092
134+  8092
135+  8092
136+  8092
137+  8092
138+  8092              ; ;HL=mem address start yx
139+  8092              ; ;DE=message address
140+  8092              ; display_string:
141+  8092              ;     ld a,(de)
142+  8092              ;     cp 0
143+  8092              ;     ret z
144+  8092              ;     cp ' '
145+  8092              ;     jp nz,disp_char_next
146+  8092              ; 	inc a
147+  8092              ; disp_char_next:
148+  8092              ;     sub FONT_ASCII_OFFSET
149+  8092              ;     push de
150+  8092              ;     push hl
151+  8092              ;     call PlotTile8
152+  8092              ;     pop hl
153+  8092              ;     pop de
154+  8092
155+  8092              ;     inc de
156+  8092              ;     inc l
157+  8092              ;     jp display_string
158+  8092
159+  8092
160+  8092              ; display_numbers:
161+  8092              ;     ld c,-100
162+  8092              ;     call dispnums_add_offset
163+  8092              ;     ld c,-10
164+  8092              ;     call dispnums_add_offset
165+  8092              ;     ld c,-1
166+  8092              ; dispnums_add_offset:
167+  8092              ;     ld b,FONT_START
168+  8092              ; dispnums_inc:
169+  8092              ;     inc b
170+  8092              ;     add a,c
171+  8092              ;     jr c, dispnums_inc
172+  8092              ;     sub c ;actually adding (its holding minus number)
173+  8092              ;     push af
174+  8092              ;     ld a,b
175+  8092              ;     push hl
176+  8092              ;     call PlotTile8
177+  8092              ;     pop hl
178+  8092              ;     inc l
179+  8092              ;     pop af
180+  8092              ;     ret
181+  8092
182+  8092
183+  8092
184+  8092
# file closed: src/retrotools/tools.asm
 29   8092
 30   8092              	include 'player.asm'
# file opened: src/player.asm
  1+  8092
  2+  8092
  3+  8092
  4+  8092
  5+  8092
  6+  8092              PLAYER_SLOT equ 58
  7+  8092
  8+  8092              PLAYER_DEFAULT_ATTR3 equ %11000000
  9+  8092
 10+  8092              PLAYER_HEIGHT equ 32
 11+  8092
 12+  8092              SCROLL_MARKER_X equ 320/2
 13+  8092
 14+  8092              PLAYER_WALK_SPEED equ 1
 15+  8092
 16+  8092
 17+  8092
 18+  8092 00           player_world_x db 0 ;in cells
 19+  8093 00           player_world_y db 0
 20+  8094
 21+  8094 30 00        px dw 48
 22+  8096 00           py db 0
 23+  8097 08           player_attr_2 db %00001000
 24+  8098 C0           player_attr_3 db PLAYER_DEFAULT_ATTR3
 25+  8099 20           player_attr_4 db %00100000
 26+  809A
 27+  809A 00           player_animation_timer db 0
 28+  809B              PLAYER_ANIMATION_DELAY equ 4
 29+  809B
 30+  809B
 31+  809B              ;movement states:
 32+  809B              WALKING equ 0xA
 33+  809B              JUMPING equ 0xB
 34+  809B              ATTACKING equ 0xC
 35+  809B              CLIMBING equ 0xD
 36+  809B
 37+  809B 0B           player_animation_state db JUMPING
 38+  809C
 39+  809C
 40+  809C 00 00        vy dw 0
 41+  809E
 42+  809E              DOWN_FORCE equ 32
 43+  809E              UP_FORCE equ 64
 44+  809E
 45+  809E              MAX_DOWN_SPEED equ 7
 46+  809E              MAX_UP_SPEED equ 5
 47+  809E
 48+  809E
 49+  809E
 50+  809E 00           player_collided_solid db FALSE
 51+  809F
 52+  809F
 53+  809F 03           player_jump_direction db DOWN
 54+  80A0 D0           player_jump_point db 208
 55+  80A1              PLAYER_JUMP_HEIGHT equ 15
 56+  80A1 00           player_grounded db FALSE
 57+  80A2
 58+  80A2
 59+  80A2              player_init:
 60+  80A2 CD A6 80         call player_init_sprites
 61+  80A5
 62+  80A5 C9               ret
 63+  80A6
 64+  80A6              player_init_sprites:
 65+  80A6 3E 3A            ld a,PLAYER_SLOT
 66+  80A8 ED 92 34         nextreg $34,a
 67+  80AB
 68+  80AB                  ;attr 0
 69+  80AB 3A 94 80         ld a,(px)
 70+  80AE ED 92 35         nextreg $35,a
 71+  80B1
 72+  80B1                  ;attr 1
 73+  80B1 3A 96 80         ld a,(py)
 74+  80B4 ED 92 36         nextreg $36,a
 75+  80B7
 76+  80B7                  ;attr 2
 77+  80B7 3A 97 80         ld a,(player_attr_2)
 78+  80BA 47               ld b,a
 79+  80BB 2A 94 80         ld hl,(px)
 80+  80BE 7C               ld a,h
 81+  80BF B0               or b
 82+  80C0 ED 92 37         nextreg $37,a
 83+  80C3
 84+  80C3                  ;attr 3
 85+  80C3 3A 98 80         ld a,(player_attr_3)
 86+  80C6 ED 92 38         nextreg $38,a
 87+  80C9
 88+  80C9                  ;attr 4
 89+  80C9 3A 99 80         ld a,(player_attr_4)
 90+  80CC ED 92 39         nextreg $39,a
 91+  80CF
 92+  80CF                  ;relative sprites...
 93+  80CF
 94+  80CF                  ;r1:
 95+  80CF                  ;x0
 96+  80CF                  ;xx
 97+  80CF
 98+  80CF 3E 3B            ld a,PLAYER_SLOT+1
 99+  80D1 ED 92 34         nextreg $34,a
100+  80D4
101+  80D4                  ;a0
102+  80D4 3E 10            ld a,16
103+  80D6 ED 92 35         nextreg $35,a
104+  80D9
105+  80D9                  ;a1
106+  80D9 3E 00            ld a,0
107+  80DB ED 92 36         nextreg $36,a
108+  80DE
109+  80DE                  ;a2
110+  80DE 3E 01            ld a,%00000001
111+  80E0 ED 92 37         nextreg $37,a
112+  80E3
113+  80E3                  ;a3
114+  80E3 3E C1            ld a,%11000001
115+  80E5 ED 92 38         nextreg $38,a
116+  80E8
117+  80E8                  ;a4
118+  80E8 3E 41            ld a,%01000001
119+  80EA ED 92 39         nextreg $39,a
120+  80ED
121+  80ED                  ;r2:
122+  80ED                  ;xx
123+  80ED                  ;0x
124+  80ED 3E 3C            ld a,PLAYER_SLOT+2
125+  80EF ED 92 34         nextreg $34,a
126+  80F2
127+  80F2                  ;a0
128+  80F2 3E 00            ld a,0
129+  80F4 ED 92 35         nextreg $35,a
130+  80F7
131+  80F7                  ;a1
132+  80F7 3E 10            ld a,16
133+  80F9 ED 92 36         nextreg $36,a
134+  80FC
135+  80FC                  ;a2
136+  80FC 3E 01            ld a,%00000001
137+  80FE ED 92 37         nextreg $37,a
138+  8101
139+  8101                  ;a3
140+  8101 3E C2            ld a,%11000010
141+  8103 ED 92 38         nextreg $38,a
142+  8106
143+  8106                  ;a4
144+  8106 3E 41            ld a,%01000001
145+  8108 ED 92 39         nextreg $39,a
146+  810B
147+  810B                  ;r3:
148+  810B                  ;xx
149+  810B                  ;x0
150+  810B 3E 3D            ld a,PLAYER_SLOT+3
151+  810D ED 92 34         nextreg $34,a
152+  8110
153+  8110                  ;a0
154+  8110 3E 10            ld a,16
155+  8112 ED 92 35         nextreg $35,a
156+  8115
157+  8115                  ;a1
158+  8115 3E 10            ld a,16
159+  8117 ED 92 36         nextreg $36,a
160+  811A
161+  811A                  ;a2
162+  811A 3E 01            ld a,%00000001
163+  811C ED 92 37         nextreg $37,a
164+  811F
165+  811F                  ;a3
166+  811F 3E C3            ld a,%11000011
167+  8121 ED 92 38         nextreg $38,a
168+  8124
169+  8124                  ;a4
170+  8124 3E 41            ld a,%01000001
171+  8126 ED 92 39         nextreg $39,a
172+  8129
173+  8129 C9               ret
174+  812A              ;
175+  812A
176+  812A
177+  812A
178+  812A              player_update:
179+  812A 3A 9A 80         ld a,(player_animation_timer)
180+  812D 3C               inc a
181+  812E 32 9A 80         ld (player_animation_timer),a
182+  8131
183+  8131
184+  8131
185+  8131 3A 9B 80         ld a,(player_animation_state)
186+  8134 FE 0A            cp WALKING
187+  8136 CA 3F 81         jp z, player_update_walking
188+  8139 FE 0B            cp JUMPING
189+  813B CA 71 81         jp z, player_update_jumping
190+  813E                  ; cp ATTACKING
191+  813E                  ; cp CLIMBING
192+  813E
193+  813E
194+  813E C9               ret
195+  813F
196+  813F
197+  813F              player_update_walking:
198+  813F
199+  813F
200+  813F 3A 4B 85         ld a,(keypressed_A)
201+  8142 FE 01            cp TRUE
202+  8144 CC DA 81         call z,plyr_move_left_start
203+  8147
204+  8147 3A 4F 85         ld a,(keypressed_D)
205+  814A FE 01            cp TRUE
206+  814C CC 1F 82         call z,plyr_move_right_start
207+  814F
208+  814F 3A 57 85         ld a,(keypressed_Space)
209+  8152 FE 01            cp TRUE
210+  8154 CC 58 81         call z,player_jump_start
211+  8157
212+  8157
213+  8157
214+  8157                  ; ; ; ; ; ; ; ; ; call check_grounded
215+  8157
216+  8157 C9               ret
217+  8158
218+  8158              player_jump_start:
219+  8158                  ; ld a,(keypressed_Space_Held)
220+  8158                  ; cp TRUE
221+  8158                  ; ret z
222+  8158
223+  8158 3A 9B 80         ld a,(player_animation_state)
224+  815B FE 0B            cp JUMPING
225+  815D C8               ret z
226+  815E
227+  815E 3E 0B            ld a,JUMPING
228+  8160 32 9B 80         ld (player_animation_state),a
229+  8163
230+  8163 3A 96 80         ld a,(py)
231+  8166 32 A0 80         ld (player_jump_point),a
232+  8169
233+  8169 3E 02            ld a,UP
234+  816B 32 9F 80         ld (player_jump_direction),a
235+  816E
236+  816E C3 2A 81         jp player_update
237+  8171
238+  8171
239+  8171              player_update_jumping:
240+  8171 3A 4B 85         ld a,(keypressed_A)
241+  8174 FE 01            cp TRUE
242+  8176 CC DA 81         call z,plyr_move_left_start
243+  8179
244+  8179 3A 4F 85         ld a,(keypressed_D)
245+  817C FE 01            cp TRUE
246+  817E CC 1F 82         call z,plyr_move_right_start
247+  8181
248+  8181 CD A4 82         call player_calculate_world_position
249+  8184                  ; ; ; ; ; ; ; call check_collision_feet
250+  8184 CD C7 82         call check_collision_jumping
251+  8187
252+  8187 3A A0 80         ld a,(player_jump_point)
253+  818A D6 0F            sub PLAYER_JUMP_HEIGHT
254+  818C 47               ld b,a
255+  818D 3A 96 80         ld a,(py)
256+  8190 B8               cp b
257+  8191 DC A9 81         call c,plyr_set_jump_down
258+  8194
259+  8194
260+  8194 3A 9F 80         ld a,(player_jump_direction)
261+  8197 FE 02            cp UP
262+  8199 F5               push af
263+  819A CC AF 81         call z, apply_force_up
264+  819D F1               pop af
265+  819E FE 03            cp DOWN
266+  81A0 F5               push af
267+  81A1 CC BE 81         call z, apply_force_down
268+  81A4 F1               pop af
269+  81A5
270+  81A5
271+  81A5
272+  81A5 CD CD 81         call apply_velocity
273+  81A8
274+  81A8
275+  81A8 C9               ret
276+  81A9
277+  81A9
278+  81A9
279+  81A9
280+  81A9              plyr_set_jump_down:
281+  81A9 3E 03            ld a,DOWN
282+  81AB 32 9F 80         ld (player_jump_direction),a
283+  81AE C9               ret
284+  81AF
285+  81AF              apply_force_up:
286+  81AF                  ; call apply_velocity_up
287+  81AF 2A 9C 80         ld hl,(vy)
288+  81B2 7C               ld a,h
289+  81B3 FE FB            cp -MAX_UP_SPEED
290+  81B5 C8               ret z
291+  81B6
292+  81B6 ED 34 80 FF      add hl,-UP_FORCE*2
293+  81BA 22 9C 80         ld (vy),hl
294+  81BD C9               ret
295+  81BE              apply_force_down:
296+  81BE                  ; call apply_velocity_down
297+  81BE 2A 9C 80         ld hl,(vy)
298+  81C1 7C               ld a,h
299+  81C2 FE 07            cp MAX_DOWN_SPEED
300+  81C4 C8               ret z
301+  81C5 ED 34 20 00      add hl,DOWN_FORCE
302+  81C9 22 9C 80         ld (vy),hl
303+  81CC C9               ret
304+  81CD
305+  81CD              apply_velocity:
306+  81CD 21 96 80         ld hl,py
307+  81D0 46               ld b,(hl)
308+  81D1 2A 9C 80         ld hl,(vy)
309+  81D4 7C               ld a,h
310+  81D5 80               add a,b
311+  81D6 32 96 80         ld (py),a
312+  81D9 C9               ret
313+  81DA
314+  81DA
315+  81DA
316+  81DA              plyr_move_left_start:
317+  81DA 3A 97 80         ld a,(player_attr_2)
318+  81DD CB 5F            bit 3,a
319+  81DF CA F4 81         jp z,plyr_move_left
320+  81E2
321+  81E2 3A 97 80         ld a,(player_attr_2)
322+  81E5 CB 9F            res 3,a
323+  81E7 32 97 80         ld (player_attr_2),a
324+  81EA
325+  81EA 2A 94 80         ld hl,(px)
326+  81ED ED 34 F0 FF      add hl,-16
327+  81F1 22 94 80         ld (px),hl
328+  81F4              plyr_move_left:
329+  81F4 CD A4 82         call player_calculate_world_position
330+  81F7                  ; ; ; ; ; ; ; ; call check_collision_left
331+  81F7
332+  81F7 3A 9E 80         ld a,(player_collided_solid)
333+  81FA FE 01            cp TRUE
334+  81FC C8               ret z
335+  81FD
336+  81FD 3A 9A 80         ld a,(player_animation_timer)
337+  8200 FE 04            cp PLAYER_ANIMATION_DELAY
338+  8202 D4 88 82         call nc, player_animate_walk
339+  8205
340+  8205 2A 94 80         ld hl,(px)
341+  8208 7C               ld a,h
342+  8209 FE 00            cp 0
343+  820B C2 17 82         jp nz,p_move_left
344+  820E 7D               ld a,l
345+  820F FE A1            cp SCROLL_MARKER_X+1
346+  8211 DA 34 8C         jp c,scroll_left
347+  8214 D2 17 82         jp nc,p_move_left
348+  8217
349+  8217              p_move_left
350+  8217 ED 34 FF FF      add hl,-PLAYER_WALK_SPEED
351+  821B 22 94 80         ld (px),hl
352+  821E C9               ret
353+  821F
354+  821F
355+  821F              plyr_move_right_start:
356+  821F 3A 97 80         ld a,(player_attr_2)
357+  8222 CB 5F            bit 3,a
358+  8224 C2 39 82         jp nz,plyr_move_right
359+  8227
360+  8227 3A 97 80         ld a,(player_attr_2)
361+  822A CB DF            set 3,a
362+  822C 32 97 80         ld (player_attr_2),a
363+  822F
364+  822F 2A 94 80         ld hl,(px)
365+  8232 ED 34 10 00      add hl,16
366+  8236 22 94 80         ld (px),hl
367+  8239              plyr_move_right:
368+  8239 CD A4 82         call player_calculate_world_position
369+  823C                  ; ; ; ; ; ; ; ; ; ; call check_collision_right
370+  823C
371+  823C 3A 9E 80         ld a,(player_collided_solid)
372+  823F FE 01            cp TRUE
373+  8241 C8               ret z
374+  8242
375+  8242 3A 9A 80         ld a,(player_animation_timer)
376+  8245 FE 04            cp PLAYER_ANIMATION_DELAY
377+  8247 D4 88 82         call nc, player_animate_walk
378+  824A
379+  824A 2A 94 80         ld hl,(px)
380+  824D 7D               ld a,l
381+  824E FE A0            cp SCROLL_MARKER_X
382+  8250 D2 35 8C         jp nc,scroll_right
383+  8253 DA 56 82         jp c,p_move_right
384+  8256
385+  8256              p_move_right
386+  8256 ED 34 01 00      add hl,PLAYER_WALK_SPEED
387+  825A 22 94 80         ld (px),hl
388+  825D C9               ret
389+  825E
390+  825E
391+  825E
392+  825E
393+  825E
394+  825E
395+  825E              player_draw:
396+  825E 3E 3A            ld a,PLAYER_SLOT
397+  8260 ED 92 34         nextreg $34,a
398+  8263
399+  8263                  ;attr 0
400+  8263 3A 94 80         ld a,(px)
401+  8266 ED 92 35         nextreg $35,a
402+  8269
403+  8269                  ;attr 1
404+  8269 3A 96 80         ld a,(py)
405+  826C ED 92 36         nextreg $36,a
406+  826F
407+  826F                  ;attr 2
408+  826F 3A 97 80         ld a,(player_attr_2)
409+  8272 47               ld b,a
410+  8273 2A 94 80         ld hl,(px)
411+  8276 7C               ld a,h
412+  8277 B0               or b
413+  8278 ED 92 37         nextreg $37,a
414+  827B
415+  827B                  ;attr 3
416+  827B 3A 98 80         ld a,(player_attr_3)
417+  827E ED 92 38         nextreg $38,a
418+  8281
419+  8281                  ;attr 4
420+  8281 3A 99 80         ld a,(player_attr_4)
421+  8284 ED 92 39         nextreg $39,a
422+  8287
423+  8287 C9               ret
424+  8288
425+  8288
426+  8288
427+  8288
428+  8288              player_animate_walk:
429+  8288 AF               xor a
430+  8289 32 9A 80         ld (player_animation_timer),a
431+  828C
432+  828C 3A 98 80         ld a,(player_attr_3)
433+  828F E6 3F            and %00111111 ;mask out top 2 bits
434+  8291 FE 0C            cp SPRITE_PLAYER_COUNT-SPRITE_SEGMENTS
435+  8293 CA 9E 82         jp z,player_set_to_default_frame
436+  8296 C6 04            add a,SPRITE_SEGMENTS
437+  8298 C6 C0            add a,PLAYER_DEFAULT_ATTR3
438+  829A 32 98 80         ld (player_attr_3),a
439+  829D C9               ret
440+  829E
441+  829E              player_set_to_default_frame:
442+  829E 3E C0            ld a,PLAYER_DEFAULT_ATTR3
443+  82A0 32 98 80         ld (player_attr_3),a
444+  82A3 C9               ret
445+  82A4
446+  82A4
447+  82A4              player_calculate_world_position:
448+  82A4
449+  82A4 3A 96 80         ld a,(py)
450+  82A7 E6 F0            and %11110000
451+  82A9 0F               rrca
452+  82AA 0F               rrca
453+  82AB 0F               rrca
454+  82AC 0F               rrca
455+  82AD 32 93 80         ld (player_world_y),a
456+  82B0
457+  82B0 2A 94 80         ld hl,(px)
458+  82B3 7D               ld a,l
459+  82B4 E6 F0            and %11110000
460+  82B6 0F               rrca
461+  82B7 0F               rrca
462+  82B8 0F               rrca
463+  82B9 0F               rrca
464+  82BA 47               ld b,a
465+  82BB 3A 29 8B         ld a,(cam_edge_r)
466+  82BE D6 14            sub VIEW_WIDTH_META
467+  82C0 4F               ld c,a
468+  82C1 78               ld a,b
469+  82C2 81               add a,c
470+  82C3 32 92 80         ld (player_world_x),a
471+  82C6
472+  82C6 C9               ret
473+  82C7
474+  82C7
475+  82C7
476+  82C7              check_collision_jumping:
477+  82C7 3A 9B 80         ld a,(player_animation_state)
478+  82CA FE 0B            cp JUMPING
479+  82CC C0               ret nz
480+  82CD
481+  82CD 3A 9F 80         ld a,(player_jump_direction)
482+  82D0 FE 03            cp DOWN
483+  82D2 C0               ret nz
484+  82D3
485+  82D3
486+  82D3 21 A7 86         ld hl,metalevel
487+  82D6 3A 93 80         ld a,(player_world_y)
488+  82D9 FE 06            cp 6
489+  82DB D8               ret c
490+  82DC D6 06            sub 6
491+  82DE 57               ld d,a
492+  82DF 1E 50            ld e,LEVEL_WIDTH_META
493+  82E1 ED 30            mul d,e
494+  82E3 19               add hl,de
495+  82E4 3A 92 80         ld a,(player_world_x)
496+  82E7 5F               ld e,a
497+  82E8 16 00            ld d,0
498+  82EA 19               add hl,de
499+  82EB 7E               ld a,(hl)
500+  82EC CD 9E 86         call check_solid
501+  82EF CA F3 82         jp z,collided_jumping
502+  82F2
503+  82F2
504+  82F2
505+  82F2 C9               ret
506+  82F3
507+  82F3
508+  82F3              collided_jumping:
509+  82F3
510+  82F3                  ;snap to nearest cell
511+  82F3 3A 93 80         ld a,(player_world_y)
512+  82F6 87               add a,a
513+  82F7 87               add a,a
514+  82F8 87               add a,a
515+  82F9 87               add a,a
516+  82FA 32 96 80         ld (py),a
517+  82FD
518+  82FD 3A 9F 80         ld a,(player_jump_direction)
519+  8300 FE 02            cp UP
520+  8302 C8               ret z
521+  8303
522+  8303 3E 0A            ld a,WALKING
523+  8305 32 9B 80         ld (player_animation_state),a
524+  8308 21 00 00         ld hl,0
525+  830B 22 9C 80         ld (vy),hl
526+  830E
527+  830E
528+  830E C9               ret
529+  830F
530+  830F              ; check_collision_feet:
531+  830F              ;     ld a,(player_animation_state)
532+  830F              ;     cp JUMPING
533+  830F              ;     ret nz
534+  830F
535+  830F              ;     ld a,(player_jump_direction)
536+  830F              ;     cp DOWN
537+  830F              ;     ret nz
538+  830F
539+  830F              ;     ; ld hl,level1
540+  830F              ;     ; ld a,(player_world_y)
541+  830F              ;     ; add a,4
542+  830F              ;     ; ld d,a
543+  830F              ;     ; ld e,WORLD_WIDTH
544+  830F              ;     ; mul d,e
545+  830F              ;     ; add hl,de
546+  830F              ;     ; ld a,(player_world_x)
547+  830F              ;     ; ld e,a
548+  830F              ;     ; ld d,0
549+  830F              ;     ; add hl,de
550+  830F              ;     ; ld a,(hl)
551+  830F              ;     ; cp 12
552+  830F              ;     ; jp c,collided_solid_feet
553+  830F
554+  830F              ;     ld hl,level1
555+  830F              ;     ld a,(player_world_y)
556+  830F              ;     add a,4
557+  830F              ;     ld d,a
558+  830F              ;     ld e,WORLD_WIDTH
559+  830F              ;     mul d,e
560+  830F              ;     add hl,de
561+  830F              ;     ld a,(player_world_x)
562+  830F              ;     add a,1
563+  830F              ;     ld e,a
564+  830F              ;     ld d,0
565+  830F              ;     add hl,de
566+  830F              ;     ld a,(hl)
567+  830F              ;     cp 12
568+  830F              ;     jp c,collided_solid_feet
569+  830F
570+  830F              ;     ld hl,level1
571+  830F              ;     ld a,(player_world_y)
572+  830F              ;     add a,4
573+  830F              ;     ld d,a
574+  830F              ;     ld e,WORLD_WIDTH
575+  830F              ;     mul d,e
576+  830F              ;     add hl,de
577+  830F              ;     ld a,(player_world_x)
578+  830F              ;     add a,2
579+  830F              ;     ld e,a
580+  830F              ;     ld d,0
581+  830F              ;     add hl,de
582+  830F              ;     ld a,(hl)
583+  830F              ;     cp 12
584+  830F              ;     jp c,collided_solid_feet
585+  830F
586+  830F              ;     ; ld hl,level1
587+  830F              ;     ; ld a,(player_world_y)
588+  830F              ;     ; add a,4
589+  830F              ;     ; ld d,a
590+  830F              ;     ; ld e,WORLD_WIDTH
591+  830F              ;     ; mul d,e
592+  830F              ;     ; add hl,de
593+  830F              ;     ; ld a,(player_world_x)
594+  830F              ;     ; add a,3
595+  830F              ;     ; ld e,a
596+  830F              ;     ; ld d,0
597+  830F              ;     ; add hl,de
598+  830F              ;     ; ld a,(hl)
599+  830F              ;     ; cp 12
600+  830F              ;     ; jp c,collided_solid_feet
601+  830F
602+  830F              ;     ret
603+  830F
604+  830F
605+  830F
606+  830F
607+  830F
608+  830F
609+  830F
610+  830F
611+  830F
612+  830F              ; check_grounded:
613+  830F              ;     ld a,(player_jump_direction)
614+  830F              ;     cp UP
615+  830F              ;     ret z
616+  830F
617+  830F              ;     ld hl,level1
618+  830F              ;     ld a,(player_world_y)
619+  830F              ;     add a,5
620+  830F              ;     ld d,a
621+  830F              ;     ld e,WORLD_WIDTH
622+  830F              ;     mul d,e
623+  830F              ;     add hl,de
624+  830F              ;     ld a,(player_world_x)
625+  830F              ;     ld e,a
626+  830F              ;     ld d,0
627+  830F              ;     add hl,de
628+  830F              ;     ld a,(hl)
629+  830F              ;     cp 12
630+  830F              ;     jp c,player_set_grounded ;if under 12, the tile is solid
631+  830F
632+  830F              ;     ld hl,level1
633+  830F              ;     ld a,(player_world_y)
634+  830F              ;     add a,5
635+  830F              ;     ld d,a
636+  830F              ;     ld e,WORLD_WIDTH
637+  830F              ;     mul d,e
638+  830F              ;     add hl,de
639+  830F              ;     ld a,(player_world_x)
640+  830F              ;     add a,1
641+  830F              ;     ld e,a
642+  830F              ;     ld d,0
643+  830F              ;     add hl,de
644+  830F              ;     ld a,(hl)
645+  830F              ;     cp 12
646+  830F              ;     jp c,player_set_grounded ;if under 12, the tile is solid
647+  830F
648+  830F              ;     ld hl,level1
649+  830F              ;     ld a,(player_world_y)
650+  830F              ;     add a,5
651+  830F              ;     ld d,a
652+  830F              ;     ld e,WORLD_WIDTH
653+  830F              ;     mul d,e
654+  830F              ;     add hl,de
655+  830F              ;     ld a,(player_world_x)
656+  830F              ;     add a,2
657+  830F              ;     ld e,a
658+  830F              ;     ld d,0
659+  830F              ;     add hl,de
660+  830F              ;     ld a,(hl)
661+  830F              ;     cp 12
662+  830F              ;     jp c,player_set_grounded ;if under 12, the tile is solid
663+  830F
664+  830F              ;     ld hl,level1
665+  830F              ;     ld a,(player_world_y)
666+  830F              ;     add a,5
667+  830F              ;     ld d,a
668+  830F              ;     ld e,WORLD_WIDTH
669+  830F              ;     mul d,e
670+  830F              ;     add hl,de
671+  830F              ;     ld a,(player_world_x)
672+  830F              ;     add a,3
673+  830F              ;     ld e,a
674+  830F              ;     ld d,0
675+  830F              ;     add hl,de
676+  830F              ;     ld a,(hl)
677+  830F              ;     cp 12
678+  830F              ;     jp c,player_set_grounded ;if under 12, the tile is solid
679+  830F
680+  830F              ;     ;else not grounded:
681+  830F              ;     ld a,FALSE
682+  830F              ;     ld (player_grounded),a
683+  830F              ;     ;set mode to jumping>down
684+  830F              ;     ld a,JUMPING
685+  830F              ;     ld (player_animation_state),a
686+  830F              ;     ld a,DOWN
687+  830F              ;     ld (player_jump_direction),a
688+  830F
689+  830F              ;     ret
690+  830F
691+  830F
692+  830F
693+  830F              ; player_set_grounded:
694+  830F              ;     ld a,TRUE
695+  830F              ;     ld (player_grounded),a
696+  830F              ;     ret
697+  830F
698+  830F
699+  830F              ; collided_solid_feet:
700+  830F              ;     ld a,(player_world_y)
701+  830F              ;     add a,a
702+  830F              ;     add a,a
703+  830F              ;     add a,a
704+  830F              ;     ld (py),a
705+  830F
706+  830F              ;     ld a,(player_jump_direction)
707+  830F              ;     cp UP
708+  830F              ;     ret z
709+  830F
710+  830F              ;     ld a,WALKING
711+  830F              ;     ld (player_animation_state),a
712+  830F              ;     ld hl,0
713+  830F              ;     ld (vy),hl
714+  830F
715+  830F
716+  830F              ;     ret
717+  830F
718+  830F
719+  830F
720+  830F              ; check_collision_left:
721+  830F              ;     ld hl,level1
722+  830F              ;     ld a,(player_world_y)
723+  830F              ;     add a,2
724+  830F              ;     ld d,a
725+  830F              ;     ld e,WORLD_WIDTH
726+  830F              ;     mul d,e
727+  830F              ;     add hl,de
728+  830F              ;     ld a,(player_world_x)
729+  830F              ;     ld e,a
730+  830F              ;     ld d,0
731+  830F              ;     add hl,de
732+  830F              ;     ld a,(hl)
733+  830F              ;     cp 12
734+  830F              ;     jp c,collided_solid_sideways
735+  830F
736+  830F              ;     ld a,FALSE
737+  830F              ;     ld (player_collided_solid),a
738+  830F
739+  830F              ;     ret
740+  830F
741+  830F
742+  830F
743+  830F              ; check_collision_right:
744+  830F              ;     ld hl,(px)
745+  830F              ;     ld a,h
746+  830F              ;     cp 0
747+  830F              ;     jp nz, check_collision_right_x8
748+  830F
749+  830F              ;     ld hl,level1
750+  830F              ;     ld a,(player_world_y)
751+  830F              ;     ld d,a
752+  830F              ;     ld e,WORLD_WIDTH
753+  830F              ;     mul d,e
754+  830F              ;     add hl,de
755+  830F              ;     ld a,(player_world_x)
756+  830F              ;     add a,1
757+  830F              ;     ld e,a
758+  830F              ;     ld d,0
759+  830F              ;     add hl,de
760+  830F              ;     ld a,(hl)
761+  830F              ;     cp 12
762+  830F              ;     jp c,collided_solid_sideways
763+  830F
764+  830F              ;     ld hl,level1
765+  830F              ;     ld a,(player_world_y)
766+  830F              ;     add a,1
767+  830F              ;     ld d,a
768+  830F              ;     ld e,WORLD_WIDTH
769+  830F              ;     mul d,e
770+  830F              ;     add hl,de
771+  830F              ;     ld a,(player_world_x)
772+  830F              ;     add a,1
773+  830F              ;     ld e,a
774+  830F              ;     ld d,0
775+  830F              ;     add hl,de
776+  830F              ;     ld a,(hl)
777+  830F              ;     cp 12
778+  830F              ;     jp c,collided_solid_sideways
779+  830F
780+  830F              ;     ld hl,level1
781+  830F              ;     ld a,(player_world_y)
782+  830F              ;     add a,2
783+  830F              ;     ld d,a
784+  830F              ;     ld e,WORLD_WIDTH
785+  830F              ;     mul d,e
786+  830F              ;     add hl,de
787+  830F              ;     ld a,(player_world_x)
788+  830F              ;     add a,1
789+  830F              ;     ld e,a
790+  830F              ;     ld d,0
791+  830F              ;     add hl,de
792+  830F              ;     ld a,(hl)
793+  830F              ;     cp 12
794+  830F              ;     jp c,collided_solid_sideways
795+  830F
796+  830F              ;     ld hl,level1
797+  830F              ;     ld a,(player_world_y)
798+  830F              ;     add a,3
799+  830F              ;     ld d,a
800+  830F              ;     ld e,WORLD_WIDTH
801+  830F              ;     mul d,e
802+  830F              ;     add hl,de
803+  830F              ;     ld a,(player_world_x)
804+  830F              ;     add a,1
805+  830F              ;     ld e,a
806+  830F              ;     ld d,0
807+  830F              ;     add hl,de
808+  830F              ;     ld a,(hl)
809+  830F              ;     cp 12
810+  830F              ;     jp c,collided_solid_sideways
811+  830F
812+  830F
813+  830F
814+  830F              ;     ld a,FALSE
815+  830F              ;     ld (player_collided_solid),a
816+  830F
817+  830F              ;     ret
818+  830F
819+  830F              ; check_collision_right_x8:
820+  830F              ;     ld hl,level1
821+  830F              ;     ld a,(player_world_y)
822+  830F              ;     ld d,a
823+  830F              ;     ld e,WORLD_WIDTH
824+  830F              ;     mul d,e
825+  830F              ;     add hl,de
826+  830F              ;     ld a,(player_world_x)
827+  830F              ;     add a,33
828+  830F              ;     ld e,a
829+  830F              ;     ld d,0
830+  830F              ;     add hl,de
831+  830F              ;     ld a,(hl)
832+  830F              ;     cp 12
833+  830F              ;     jp c,collided_solid_sideways
834+  830F
835+  830F              ;     ld hl,level1
836+  830F              ;     ld a,(player_world_y)
837+  830F              ;     add a,1
838+  830F              ;     ld d,a
839+  830F              ;     ld e,WORLD_WIDTH
840+  830F              ;     mul d,e
841+  830F              ;     add hl,de
842+  830F              ;     ld a,(player_world_x)
843+  830F              ;     add a,33
844+  830F              ;     ld e,a
845+  830F              ;     ld d,0
846+  830F              ;     add hl,de
847+  830F              ;     ld a,(hl)
848+  830F              ;     cp 12
849+  830F              ;     jp c,collided_solid_sideways
850+  830F
851+  830F              ;     ld hl,level1
852+  830F              ;     ld a,(player_world_y)
853+  830F              ;     add a,2
854+  830F              ;     ld d,a
855+  830F              ;     ld e,WORLD_WIDTH
856+  830F              ;     mul d,e
857+  830F              ;     add hl,de
858+  830F              ;     ld a,(player_world_x)
859+  830F              ;     add a,33
860+  830F              ;     ld e,a
861+  830F              ;     ld d,0
862+  830F              ;     add hl,de
863+  830F              ;     ld a,(hl)
864+  830F              ;     cp 12
865+  830F              ;     jp c,collided_solid_sideways
866+  830F
867+  830F              ;     ld hl,level1
868+  830F              ;     ld a,(player_world_y)
869+  830F              ;     add a,3
870+  830F              ;     ld d,a
871+  830F              ;     ld e,WORLD_WIDTH
872+  830F              ;     mul d,e
873+  830F              ;     add hl,de
874+  830F              ;     ld a,(player_world_x)
875+  830F              ;     add a,33
876+  830F              ;     ld e,a
877+  830F              ;     ld d,0
878+  830F              ;     add hl,de
879+  830F              ;     ld a,(hl)
880+  830F              ;     cp 12
881+  830F              ;     jp c,collided_solid_sideways
882+  830F
883+  830F
884+  830F
885+  830F              ;     ld a,FALSE
886+  830F              ;     ld (player_collided_solid),a
887+  830F
888+  830F              ;     ret
889+  830F
890+  830F
891+  830F
892+  830F
893+  830F
894+  830F
895+  830F              ; collided_solid_sideways:
896+  830F              ;     ld a,TRUE
897+  830F              ;     ld (player_collided_solid),a
898+  830F              ;     ret
# file closed: src/player.asm
 31   830F              	include 'objects.asm'
# file opened: src/objects.asm
  1+  830F
  2+  830F
  3+  830F
  4+  830F              OBJECT_PUMPKIN equ 0
  5+  830F              OBJECT_GHOST equ 1
  6+  830F              OBJECT_GHOST_WALKER equ 2
  7+  830F              OBJECT_DEAD equ 100
  8+  830F              OBJECT_COLLIDED equ $FF
  9+  830F              OBJECT_HEIGHT equ 16
 10+  830F
 11+  830F
 12+  830F              ;::All objects have 2 frame animation::
 13+  830F
 14+  830F              ;0=isInView
 15+  830F              ;1=objType
 16+  830F              ;2=wX
 17+  830F              ;3=wY
 18+  830F              ;4,5=XX
 19+  830F              ;6=Y
 20+  830F              ;7=att2
 21+  830F              ;8=att3
 22+  830F              ;9=att4
 23+  830F              ;10=slot_ID
 24+  830F              ;11=sprites specific XOR value
 25+  830F              ;12=direction
 26+  830F
 27+  830F              objects:
 28+  830F 00 00 01 01      db FALSE, OBJECT_PUMPKIN, 01, 01
 28+  8313 00 00          dw 0
 28+  8315 00 00 50 00    db 0,  %00000000,%01010000,%00000000,0,1,RIGHT
 28+  8319 00 01 01
 29+  831C 00 01 32 13      db FALSE, OBJECT_GHOST, 50, 19
 29+  8320 00 00          dw 0
 29+  8322 00 00 52 00    db 0, %00000000,%01010010,%00000000,11,1,RIGHT
 29+  8326 0B 01 01
 30+  8329 00 02 27 18      db FALSE, OBJECT_GHOST_WALKER, 39, 24
 30+  832D 00 00          dw 0
 30+  832F 00 00 52 00    db 0, %00000000,%01010010,%00000000,15,1,LEFT
 30+  8333 0F 01 00
 31+  8336 00 02 32 1A      db FALSE, OBJECT_GHOST_WALKER, 50, 26
 31+  833A 00 00          dw 0
 31+  833C 00 00 52 00    db 0, %00000000,%01010010,%00000000,15,1,LEFT
 31+  8340 0F 01 00
 32+  8343 00 02 48 1A      db FALSE, OBJECT_GHOST_WALKER, 72, 26
 32+  8347 00 00          dw 0
 32+  8349 00 00 52 00    db 0, %00000000,%01010010,%00000000,15,1,LEFT
 32+  834D 0F 01 00
 33+  8350 00 02 6E 1A      db FALSE, OBJECT_GHOST_WALKER, 110, 26
 33+  8354 00 00          dw 0
 33+  8356 00 00 52 00    db 0, %00000000,%01010010,%00000000,15,1,LEFT
 33+  835A 0F 01 00
 34+  835D FF               db END_OF_ARRAY
 35+  835E
 36+  835E              OBJECTS_DATA_LENGTH equ 13
 37+  835E
 38+  835E
 39+  835E              GHOST_SPEED equ 2
 40+  835E              GHOST_MAX_MOVEMENT_X equ 30
 41+  835E
 42+  835E
 43+  835E
 44+  835E              ;sX= wX-(cam_edge_r-VW)*8
 45+  835E              ;sY= wY*8
 46+  835E
 47+  835E
 48+  835E
 49+  835E              objects_init:
 50+  835E C9               ret
 51+  835F
 52+  835F
 53+  835F
 54+  835F              objects_update:
 55+  835F DD 21 0F 83      ld ix,objects
 56+  8363              objs_update_start:
 57+  8363 DD 7E 00         ld a,(ix)
 58+  8366 FE FF            cp END_OF_ARRAY
 59+  8368 C8               ret z
 60+  8369
 61+  8369 CD 89 83         call object_update
 62+  836C
 63+  836C 11 0D 00         ld de,OBJECTS_DATA_LENGTH
 64+  836F DD 19            add ix,de
 65+  8371 C3 63 83         jp objs_update_start
 66+  8374
 67+  8374
 68+  8374
 69+  8374
 70+  8374              objects_draw:
 71+  8374 DD 21 0F 83      ld ix,objects
 72+  8378              objs_draw_start:
 73+  8378 DD 7E 00         ld a,(ix)
 74+  837B FE FF            cp END_OF_ARRAY
 75+  837D C8               ret z
 76+  837E
 77+  837E CD 44 84         call object_draw
 78+  8381
 79+  8381 11 0D 00         ld de,OBJECTS_DATA_LENGTH
 80+  8384 DD 19            add ix,de
 81+  8386 C3 78 83         jp objs_draw_start
 82+  8389
 83+  8389
 84+  8389
 85+  8389
 86+  8389
 87+  8389
 88+  8389
 89+  8389              object_update:
 90+  8389 DD 7E 01         ld a,(ix+1)
 91+  838C FE 64            cp OBJECT_DEAD
 92+  838E C8               ret z
 93+  838F
 94+  838F
 95+  838F CD A2 83         call object_check_in_view
 96+  8392 CD 31 84         call animate_object
 97+  8395
 98+  8395 DD 7E 01         ld a,(ix+1)
 99+  8398 FE 00            cp OBJECT_PUMPKIN
100+  839A C8               ret z
101+  839B
102+  839B CD 74 84         call handle_behaviour
103+  839E CD AD 84         call object_check_collision_player
104+  83A1
105+  83A1 C9               ret
106+  83A2
107+  83A2
108+  83A2
109+  83A2              object_check_in_view:
110+  83A2
111+  83A2
112+  83A2 DD 7E 02         ld a,(ix+2)
113+  83A5 47               ld b,a
114+  83A6 3A 29 8B         ld a,(cam_edge_r)
115+  83A9 B8               cp b
116+  83AA DA CA 83         jp c, obj_set_not_inview
117+  83AD
118+  83AD 3A 29 8B         ld a,(cam_edge_r)
119+  83B0 D6 28            sub VIEW_WIDTH
120+  83B2 47               ld b,a
121+  83B3 DD 7E 02         ld a,(ix+2)
122+  83B6 B8               cp b
123+  83B7 DA CA 83         jp c, obj_set_not_inview
124+  83BA
125+  83BA                  ; set to inview=yes
126+  83BA DD 36 00 01      ld (ix),TRUE
127+  83BE DD 7E 08         ld a,(ix+8)
128+  83C1 CB FF            set 7,a
129+  83C3 DD 77 08         ld (ix+8),a
130+  83C6
131+  83C6 CD DA 83         call object_calculate_screen_pos
132+  83C9 C9               ret
133+  83CA
134+  83CA              obj_set_not_inview:
135+  83CA DD 36 00 00      ld (ix),FALSE
136+  83CE DD 7E 08         ld a,(ix+8)
137+  83D1 CB BF            res 7,a
138+  83D3 DD 77 08         ld (ix+8),a
139+  83D6 CD 4A 84         call obj_drw
140+  83D9 C9               ret
141+  83DA
142+  83DA
143+  83DA
144+  83DA
145+  83DA              object_calculate_screen_pos:
146+  83DA                  ;Y
147+  83DA DD 7E 03         ld a,(ix+3)
148+  83DD 87               add a,a
149+  83DE 87               add a,a
150+  83DF 87               add a,a ;A*8
151+  83E0 DD 77 06         ld (ix+6),a
152+  83E3
153+  83E3 3A 28 8B         ld a,(scroll_direction)
154+  83E6 FE 00            cp LEFT
155+  83E8 CA F1 83         jp z,obj_screen_moving_left
156+  83EB FE 01            cp RIGHT
157+  83ED CA 0F 84         jp z,obj_screen_moving_right
158+  83F0
159+  83F0 C9               ret
160+  83F1
161+  83F1              obj_screen_moving_left:
162+  83F1                  ;X (scroll left)
163+  83F1 3A 29 8B         ld a,(cam_edge_r)
164+  83F4 D6 28            sub VIEW_WIDTH
165+  83F6 47               ld b,a
166+  83F7 DD 7E 02         ld a,(ix+2) ;wX
167+  83FA 90               sub b ;wX-camX
168+  83FB 21 00 00         ld hl,0
169+  83FE ED 31            add hl,a
170+  8400 29               add hl,hl
171+  8401 29               add hl,hl
172+  8402 29               add hl,hl
173+  8403 3A 27 8B         ld a,(current_scroll)
174+  8406 ED 31            add hl,a
175+  8408 DD 75 04         ld (ix+4),l
176+  840B DD 74 05         ld (ix+5),h ;X8
177+  840E C9               ret
178+  840F
179+  840F              obj_screen_moving_right:
180+  840F                  ;X (scroll left)
181+  840F 3A 29 8B         ld a,(cam_edge_r)
182+  8412 D6 28            sub VIEW_WIDTH
183+  8414 47               ld b,a
184+  8415 DD 7E 02         ld a,(ix+2) ;wX
185+  8418 90               sub b ;wX-camX
186+  8419 21 00 00         ld hl,0
187+  841C ED 31            add hl,a
188+  841E 29               add hl,hl
189+  841F 29               add hl,hl
190+  8420 29               add hl,hl
191+  8421 3A 27 8B         ld a,(current_scroll)
192+  8424 47               ld b,a
193+  8425 3E 08            ld a,8
194+  8427 90               sub b
195+  8428 ED 31            add hl,a
196+  842A DD 75 04         ld (ix+4),l
197+  842D DD 74 05         ld (ix+5),h ;X8
198+  8430
199+  8430 C9               ret
200+  8431
201+  8431
202+  8431              animate_object:
203+  8431 DD 7E 08         ld a,(ix+8)
204+  8434 E6 C0            and %11000000
205+  8436 47               ld b,a
206+  8437 DD 7E 08         ld a,(ix+8)
207+  843A E6 3F            and %00111111
208+  843C DD AE 0B         xor (ix+11)
209+  843F 80               add a,b
210+  8440 DD 77 08         ld (ix+8),a
211+  8443 C9               ret
212+  8444
213+  8444
214+  8444              object_draw:
215+  8444 DD 7E 00         ld a,(ix)
216+  8447 FE 01            cp TRUE
217+  8449 C0               ret nz
218+  844A              obj_drw:
219+  844A DD 7E 0A         ld a,(ix+10)
220+  844D ED 92 34         nextreg $34,a
221+  8450
222+  8450                  ;attr 0
223+  8450 DD 7E 04         ld a,(ix+4)
224+  8453 ED 92 35         nextreg $35,a
225+  8456
226+  8456                  ;attr 1
227+  8456 DD 7E 06         ld a,(ix+6)
228+  8459 ED 92 36         nextreg $36,a
229+  845C
230+  845C                  ;attr 2
231+  845C DD 7E 07         ld a,(ix+7)
232+  845F 47               ld b,a
233+  8460 DD 7E 05         ld a,(ix+5)
234+  8463 B0               or b
235+  8464 ED 92 37         nextreg $37,a
236+  8467
237+  8467                  ;attr 3
238+  8467 DD 7E 08         ld a,(ix+8)
239+  846A ED 92 38         nextreg $38,a
240+  846D
241+  846D                  ;attr 4
242+  846D DD 7E 09         ld a,(ix+9)
243+  8470 ED 92 39         nextreg $39,a
244+  8473
245+  8473 C9               ret
246+  8474
247+  8474
248+  8474
249+  8474
250+  8474
251+  8474
252+  8474
253+  8474              handle_behaviour:
254+  8474 DD 7E 00         ld a,(ix)
255+  8477 FE 00            cp FALSE
256+  8479 C8               ret z
257+  847A
258+  847A DD 7E 01         ld a,(ix+1)
259+  847D FE 01            cp OBJECT_GHOST
260+  847F CA 88 84         jp z, handle_behaviour_ghost
261+  8482 FE 02            cp OBJECT_GHOST_WALKER
262+  8484 CA 98 84         jp z, handle_behaviour_ghost_walker
263+  8487 C9               ret
264+  8488
265+  8488
266+  8488              handle_behaviour_ghost:
267+  8488 DD 7E 0C         ld a,(ix+12)
268+  848B FE 00            cp LEFT
269+  848D CA 96 84         jp z,ghost_move_left
270+  8490 FE 01            cp RIGHT
271+  8492 CA 97 84         jp z,ghost_move_right
272+  8495
273+  8495 C9               ret
274+  8496
275+  8496              ghost_move_left:
276+  8496                  ; ld a,(ix+2)
277+  8496                  ; dec a
278+  8496                  ; ld (ix+2),a
279+  8496
280+  8496                  ; ; ld a,h
281+  8496                  ; ; or l
282+  8496                  ; ; ret nz
283+  8496
284+  8496                  ; ; ld a,RIGHT
285+  8496                  ; ; ld (ix+12),a
286+  8496
287+  8496 C9               ret
288+  8497              ghost_move_right:
289+  8497                  ; ld h,(ix+14)
290+  8497                  ; ld l,(ix+15)
291+  8497                  ; add hl,GHOST_SPEED
292+  8497                  ; ld (ix+14),h
293+  8497                  ; ld (ix+15),l
294+  8497
295+  8497                  ; ld a,l
296+  8497                  ; cp GHOST_MAX_MOVEMENT_X
297+  8497                  ; ret nz
298+  8497
299+  8497                  ; ld a,LEFT
300+  8497                  ; ld (ix+12),a
301+  8497
302+  8497
303+  8497 C9               ret
304+  8498
305+  8498
306+  8498              handle_behaviour_ghost_walker:
307+  8498 DD 7E 02         ld a,(ix+2)
308+  849B 3D               dec a
309+  849C DD 77 02         ld (ix+2),a
310+  849F
311+  849F 47               ld b,a
312+  84A0 3A 2A 8B         ld a,(cam_x)
313+  84A3 B8               cp b
314+  84A4 D8               ret c
315+  84A5
316+  84A5
317+  84A5                  ;kill ghost
318+  84A5 DD 36 01 64      ld (ix+1),OBJECT_DEAD
319+  84A9 CD CA 83         call obj_set_not_inview
320+  84AC
321+  84AC C9               ret
322+  84AD
323+  84AD
324+  84AD
325+  84AD
326+  84AD
327+  84AD              object_check_collision_player
328+  84AD DD 7E 00         ld a,(ix)
329+  84B0 FE 01            cp TRUE
330+  84B2 C0               ret nz
331+  84B3
332+  84B3 DD 7E 01         ld a,(ix+1)
333+  84B6 FE 01            cp OBJECT_GHOST
334+  84B8 CA E2 84         jp z,checkcollision_player_ghost
335+  84BB FE 02            cp OBJECT_GHOST_WALKER
336+  84BD CA FD 84         jp z,checkcollision_player_ghostwalker
337+  84C0              obj_check_coll_y:
338+  84C0                  ;player above object:
339+  84C0 DD 7E 06         ld a,(ix+6)
340+  84C3 47               ld b,a
341+  84C4 3A 96 80         ld a,(py)
342+  84C7 C6 20            add a,PLAYER_HEIGHT
343+  84C9 B8               cp b
344+  84CA 38 15            jr c,obj_nocollision
345+  84CC
346+  84CC                  ;player below object:
347+  84CC 3A 96 80         ld a,(py)
348+  84CF 47               ld b,a
349+  84D0 DD 7E 06         ld a,(ix+6)
350+  84D3 C6 10            add a,OBJECT_HEIGHT
351+  84D5 B8               cp b
352+  84D6 38 09            jr c,obj_nocollision
353+  84D8
354+  84D8 2A 94 80         ld hl,(px)
355+  84DB DD 7E 05         ld a,(ix+5)
356+  84DE BC               cp h
357+  84DF 20 00            jr nz,obj_nocollision
358+  84E1
359+  84E1                  ;collided...
360+  84E1
361+  84E1              obj_nocollision:
362+  84E1 C9               ret
363+  84E2
364+  84E2              checkcollision_player_ghost:
365+  84E2                  ;x axis collision check:
366+  84E2 DD 66 04         ld h,(ix+4)
367+  84E5 DD 6E 05         ld l,(ix+5)
368+  84E8 DD 56 0E         ld d,(ix+14)
369+  84EB DD 5E 0F         ld e,(ix+15)
370+  84EE 19               add hl,de
371+  84EF ED 5B 94 80      ld de,(px)
372+  84F3 B7               or a
373+  84F4 ED 52            sbc hl,de
374+  84F6 7D               ld a,l
375+  84F7 FE 1C            cp 28
376+  84F9 DA C0 84         jp c,obj_check_coll_y
377+  84FC C9               ret
378+  84FD
379+  84FD              checkcollision_player_ghostwalker:
380+  84FD                  ;x axis collision check:
381+  84FD DD 66 04         ld h,(ix+4)
382+  8500 DD 6E 05         ld l,(ix+5)
383+  8503 DD 56 0E         ld d,(ix+14)
384+  8506 DD 5E 0F         ld e,(ix+15)
385+  8509 B7               or a
386+  850A ED 52            sbc hl,de
387+  850C ED 5B 94 80      ld de,(px)
388+  8510 B7               or a
389+  8511 ED 52            sbc hl,de
390+  8513 7D               ld a,l
391+  8514 FE 1C            cp 28
392+  8516 DA C0 84         jp c,obj_check_coll_y
393+  8519 C9               ret
# file closed: src/objects.asm
 32   851A              	include 'game.asm'
# file opened: src/game.asm
  1+  851A
  2+  851A              game_init:
  3+  851A CD 2D 8B         call layer2_init
  4+  851D ED 91 56 0E      nextreg $56,14
  5+  8521 06 14            ld b,SPRITE_COUNT
  6+  8523 21 00 C0         ld hl,$c000
  7+  8526 CD 89 86         call sprites_init
  8+  8529
  9+  8529 CD 4E 8B         call tiles_init
 10+  852C CD A2 80         call player_init
 11+  852F
 12+  852F C9               ret
 13+  8530
 14+  8530
 15+  8530              game_update:
 16+  8530 06 0B            ld b,11
 17+  8532 CD 38 80         call WaitRasterLine
 18+  8535
 19+  8535 CD 97 8B         call layer2_update
 20+  8538 CD 59 85         call check_keys
 21+  853B CD 2A 81         call player_update
 22+  853E CD 5F 83         call objects_update
 23+  8541
 24+  8541 C9               ret
 25+  8542
 26+  8542              game_draw:
 27+  8542 CD 5E 82         call player_draw
 28+  8545 CD 74 83         call objects_draw
 29+  8548 C9               ret
 30+  8549
 31+  8549
# file closed: src/game.asm
 33   8549              	include 'retrotools\keycacher.asm'
# file opened: src/retrotools/keycacher.asm
  1+  8549              ;Usage:
  2+  8549              ;first call check_keys
  3+  8549              ;compare states of cached values (eg. keypressed_W) before doing movement/actions etc.
  4+  8549              ;after all actions, call reset_keys
  5+  8549
  6+  8549
  7+  8549              ; 32766 B, N, M, Symbol Shift, Space
  8+  8549              ; 49150 H, J, K, L, Enter
  9+  8549              ; 57342 Y, U, I, O, P
 10+  8549              ; 61438 6, 7, 8, 9, 0
 11+  8549              ; 63486 5, 4, 3, 2, 1
 12+  8549              ; 64510 T, R, E, W, Q
 13+  8549              ; 65022 G, F, D, S, A
 14+  8549              ; 65278 V, C, X, Z, Caps Shift
 15+  8549
 16+  8549
 17+  8549 00           keypressed_W db FALSE
 18+  854A 00           keypressed_W_Held db FALSE
 19+  854B 00           keypressed_A db FALSE
 20+  854C 00           keypressed_A_Held db FALSE
 21+  854D 00           keypressed_S db FALSE
 22+  854E 00           keypressed_S_Held db FALSE
 23+  854F 00           keypressed_D db FALSE
 24+  8550
 25+  8550 00           keypressed_F db FALSE
 26+  8551 00           keypressed_F_Held db FALSE
 27+  8552 00           keypressed_I db FALSE
 28+  8553 00           keypressed_Q db FALSE
 29+  8554 00           keypressed_Q_Held db FALSE
 30+  8555 00           keypressed_O db FALSE
 31+  8556 00           keypressed_P db FALSE
 32+  8557 00           keypressed_Space db FALSE
 33+  8558 00           keypressed_Space_Held db FALSE
 34+  8559
 35+  8559              check_keys:
 36+  8559 3A 49 85         ld a,(keypressed_W)
 37+  855C FE 01            cp TRUE
 38+  855E CC 11 86         call z,set_W_Held
 39+  8561 C4 17 86         call nz, reset_W_Held
 40+  8564
 41+  8564 3A 4D 85         ld a,(keypressed_S)
 42+  8567 FE 01            cp TRUE
 43+  8569 CC 33 86         call z,set_S_Held
 44+  856C C4 39 86         call nz, reset_S_Held
 45+  856F
 46+  856F 3A 50 85         ld a,(keypressed_F)
 47+  8572 FE 01            cp TRUE
 48+  8574 CC 4A 86         call z, set_F_Held
 49+  8577 C4 50 86         call nz, reset_F_Held
 50+  857A
 51+  857A 3A 4B 85         ld a,(keypressed_A)
 52+  857D FE 01            cp TRUE
 53+  857F CC 22 86         call z,set_A_Held
 54+  8582 C4 28 86         call nz, reset_A_Held
 55+  8585
 56+  8585 3A 53 85         ld a,(keypressed_Q)
 57+  8588 FE 01            cp TRUE
 58+  858A CC 61 86         call z,set_Q_Held
 59+  858D C4 67 86         call nz, reset_Q_Held
 60+  8590
 61+  8590 3A 57 85         ld a,(keypressed_Space)
 62+  8593 FE 01            cp TRUE
 63+  8595 CC 7E 86         call z,set_Space_Held
 64+  8598 C4 84 86         call nz, reset_Space_Held
 65+  859B
 66+  859B
 67+  859B
 68+  859B AF               xor a
 69+  859C 32 49 85         ld (keypressed_W),a
 70+  859F 32 4B 85         ld (keypressed_A),a
 71+  85A2 32 4D 85         ld (keypressed_S),a
 72+  85A5 32 4F 85         ld (keypressed_D),a
 73+  85A8 32 50 85         ld (keypressed_F),a
 74+  85AB 32 52 85         ld (keypressed_I),a
 75+  85AE 32 53 85         ld (keypressed_Q),a
 76+  85B1 32 55 85         ld (keypressed_O),a
 77+  85B4 32 56 85         ld (keypressed_P),a
 78+  85B7 32 57 85         ld (keypressed_Space),a
 79+  85BA
 80+  85BA
 81+  85BA 01 FE FD         ld bc,0xFDFE ;ASDFG
 82+  85BD ED 78            in a,(c)
 83+  85BF 1F               rra
 84+  85C0 F5               push af
 85+  85C1 D4 1C 86         call nc, set_A
 86+  85C4 F1               pop af
 87+  85C5 1F               rra
 88+  85C6 F5               push af
 89+  85C7 D4 2D 86         call nc, set_S
 90+  85CA F1               pop af
 91+  85CB 1F               rra
 92+  85CC F5               push af
 93+  85CD D4 3E 86         call nc, set_D
 94+  85D0 F1               pop af
 95+  85D1 1F               rra
 96+  85D2 F5               push af
 97+  85D3 D4 44 86         call nc, set_F
 98+  85D6 F1               pop af
 99+  85D7
100+  85D7 01 FE FB         ld bc,0xFBFE ;QWERT
101+  85DA ED 78            in a,(c)
102+  85DC 1F               rra ;Q
103+  85DD F5               push af
104+  85DE D4 5B 86         call nc, set_Q
105+  85E1 F1               pop af
106+  85E2 1F               rra ;W
107+  85E3 F5               push af
108+  85E4 D4 0B 86         call nc, set_W
109+  85E7 F1               pop af
110+  85E8
111+  85E8 01 FE DF         ld bc,0xDFFE ;POIUY
112+  85EB ED 78            in a,(c)
113+  85ED 1F               rra ;P
114+  85EE F5               push af
115+  85EF D4 72 86         call nc, set_P
116+  85F2 F1               pop af
117+  85F3 1F               rra ;O
118+  85F4 F5               push af
119+  85F5 D4 6C 86         call nc, set_O
120+  85F8 F1               pop af
121+  85F9 1F               rra ;I
122+  85FA F5               push af
123+  85FB D4 55 86         call nc, set_I
124+  85FE F1               pop af
125+  85FF
126+  85FF 01 FE 7F         ld bc,32766
127+  8602 ED 78            in a,(c)
128+  8604 1F               rra
129+  8605 F5               push af
130+  8606 D4 78 86         call nc, set_Space
131+  8609 F1               pop af
132+  860A
133+  860A
134+  860A C9               ret
135+  860B
136+  860B              set_W:
137+  860B 3E 01            ld a,TRUE
138+  860D 32 49 85         ld (keypressed_W),a
139+  8610 C9               ret
140+  8611
141+  8611              set_W_Held:
142+  8611 3E 01            ld a,TRUE
143+  8613 32 4A 85         ld (keypressed_W_Held),a
144+  8616 C9               ret
145+  8617              reset_W_Held:
146+  8617 AF               xor a
147+  8618 32 4A 85         ld (keypressed_W_Held),a
148+  861B C9               ret
149+  861C
150+  861C              set_A:
151+  861C 3E 01            ld a,TRUE
152+  861E 32 4B 85         ld (keypressed_A),a
153+  8621 C9               ret
154+  8622
155+  8622              set_A_Held:
156+  8622 3E 01            ld a,TRUE
157+  8624 32 4C 85         ld (keypressed_A_Held),a
158+  8627 C9               ret
159+  8628
160+  8628              reset_A_Held:
161+  8628 AF               xor a
162+  8629 32 4C 85         ld (keypressed_A_Held),a
163+  862C C9               ret
164+  862D
165+  862D              set_S:
166+  862D 3E 01            ld a,TRUE
167+  862F 32 4D 85         ld (keypressed_S),a
168+  8632 C9               ret
169+  8633              set_S_Held:
170+  8633 3E 01            ld a,TRUE
171+  8635 32 4E 85         ld (keypressed_S_Held),a
172+  8638 C9               ret
173+  8639              reset_S_Held:
174+  8639 AF               xor a
175+  863A 32 4E 85         ld (keypressed_S_Held),a
176+  863D C9               ret
177+  863E
178+  863E              set_D:
179+  863E 3E 01            ld a,TRUE
180+  8640 32 4F 85         ld (keypressed_D),a
181+  8643 C9               ret
182+  8644
183+  8644              set_F:
184+  8644 3E 01            ld a,TRUE
185+  8646 32 50 85         ld (keypressed_F),a
186+  8649 C9               ret
187+  864A
188+  864A
189+  864A              set_F_Held:
190+  864A 3E 01            ld a,TRUE
191+  864C 32 51 85         ld (keypressed_F_Held),a
192+  864F C9               ret
193+  8650
194+  8650              reset_F_Held:
195+  8650 AF               xor a
196+  8651 32 51 85         ld (keypressed_F_Held),a
197+  8654 C9               ret
198+  8655
199+  8655
200+  8655
201+  8655              set_I:
202+  8655 3E 01            ld a,TRUE
203+  8657 32 52 85         ld (keypressed_I),a
204+  865A C9               ret
205+  865B
206+  865B
207+  865B              set_Q:
208+  865B 3E 01            ld a,TRUE
209+  865D 32 53 85         ld (keypressed_Q),a
210+  8660 C9               ret
211+  8661
212+  8661              set_Q_Held:
213+  8661 3E 01            ld a,TRUE
214+  8663 32 54 85         ld (keypressed_Q_Held),a
215+  8666 C9               ret
216+  8667
217+  8667              reset_Q_Held:
218+  8667 AF               xor a
219+  8668 32 54 85         ld (keypressed_Q_Held),a
220+  866B C9               ret
221+  866C
222+  866C              set_O:
223+  866C 3E 01            ld a,TRUE
224+  866E 32 55 85         ld (keypressed_O),a
225+  8671 C9               ret
226+  8672
227+  8672              set_P:
228+  8672 3E 01            ld a,TRUE
229+  8674 32 56 85         ld (keypressed_P),a
230+  8677 C9               ret
231+  8678
232+  8678              set_Space:
233+  8678 3E 01            ld a,TRUE
234+  867A 32 57 85         ld (keypressed_Space),a
235+  867D C9               ret
236+  867E              set_Space_Held:
237+  867E 3E 01            ld a,TRUE
238+  8680 32 58 85         ld (keypressed_Space_Held),a
239+  8683 C9               ret
240+  8684
241+  8684              reset_Space_Held:
242+  8684 AF               xor a
243+  8685 32 58 85         ld (keypressed_Space_Held),a
244+  8688 C9               ret
245+  8689
# file closed: src/retrotools/keycacher.asm
 34   8689              	include 'retrotools\spritetools.asm'
# file opened: src/retrotools/spritetools.asm
  1+  8689              VISIBILITY equ %10000000
  2+  8689              EXTENDED equ %01000000
  3+  8689              MIRROR_X equ %00001000
  4+  8689              MIRROR_Y equ %00000100
  5+  8689
  6+  8689
  7+  8689
  8+  8689              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  9+  8689              ;; Upload spritesheet to 16K FPGA Internal Memory
 10+  8689              ;; Inputs: B=Sprite Count HL=Sprite data Ptr
 11+  8689              ;; Outputs: none
 12+  8689              ;; Destroys: A,BC,HL
 13+  8689              ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
 14+  8689              sprites_init:
 15+  8689 C5           	push bc
 16+  868A 3E 00        	ld a,0
 17+  868C 01 3B 30     	ld bc,$303b
 18+  868F ED 79        	out (c),a
 19+  8691 C1           	pop bc
 20+  8692              is_loop:
 21+  8692 C5           	push bc
 22+  8693 01 5B 00     	ld bc,$005b
 23+  8696 ED B3        	otir
 24+  8698 C1           	pop bc
 25+  8699 10 F7        	djnz is_loop
 26+  869B C9           	ret
# file closed: src/retrotools/spritetools.asm
 35   869C              	include 'levels\levels.asm'
# file opened: src/levels/levels.asm
  1+  869C              ; another way to check solids (if not in order)
  2+  869C              meta_solids:
  3+  869C 11 13            db 17,19
  4+  869E              SOLIDS_LENGTH equ 2
  5+  869E              check_solid:
  6+  869E 21 9C 86         ld hl,meta_solids
  7+  86A1 01 02 00         ld bc,SOLIDS_LENGTH
  8+  86A4 ED B1            cpir
  9+  86A6 C9               ret
 10+  86A7
 11+  86A7
 12+  86A7              ;Platform::
 13+  86A7              ;01 03 03 01*
 14+  86A7              ;17 19 19 17*
 15+  86A7              ;02 04 04 02*
 16+  86A7              ;18 20 20 18*
 17+  86A7
 18+  86A7
 19+  86A7              LEVEL_Y_START_ADDRESS equ $4500 ;half way down
 20+  86A7              LEVEL_WIDTH_META equ 80
 21+  86A7              LEVEL_HEIGHT_META equ 8
 22+  86A7
 23+  86A7
 24+  86A7              TILE_ATTR_NOMIRROR equ %00000000
 25+  86A7              TILE_ATTR_MIRROR equ %00001000
 26+  86A7
 27+  86A7              metalevel:
 28+  86A7 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 28+  86AB 00 00 00 00
 28+  86AF 00 00 00 00
 28+  86B3 00 00 00 00
 28+  86B7 00 00 00 00
 28+  86BB 00 00 00 00
 28+  86BF 00 00 00 00
 28+  86C3 00 00 00 00
 28+  86C7 00 00 00 00
 28+  86CB 00 00 00 00
 28+  86CF 00 00 00 00
 28+  86D3 00 00 00 00
 28+  86D7 00 00 00 00
 28+  86DB 00 00 00 00
 28+  86DF 00 00 00 00
 28+  86E3 00 00 00 00
 28+  86E7 00 00 00 00
 28+  86EB 00 00 00 00
 28+  86EF 00 00 00 00
 28+  86F3 00 00 00 00
 29+  86F7 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,03,03,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 29+  86FB 00 00 00 00
 29+  86FF 00 00 00 00
 29+  8703 00 00 00 00
 29+  8707 00 00 00 00
 29+  870B 00 00 00 00
 29+  870F 00 00 00 00
 29+  8713 00 00 00 00
 29+  8717 00 00 00 00
 29+  871B 00 00 00 00
 29+  871F 00 00 00 00
 29+  8723 00 00 00 00
 29+  8727 00 00 00 00
 29+  872B 01 03 03 03
 29+  872F 00 00 00 00
 29+  8733 00 00 00 00
 29+  8737 00 00 00 00
 29+  873B 00 00 00 00
 29+  873F 00 00 00 00
 29+  8743 00 00 00 00
 30+  8747 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,17,19,19,19,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 30+  874B 00 00 00 00
 30+  874F 00 00 00 00
 30+  8753 00 00 00 00
 30+  8757 00 00 00 00
 30+  875B 00 00 00 00
 30+  875F 00 00 00 00
 30+  8763 00 00 00 00
 30+  8767 00 00 00 00
 30+  876B 00 00 00 00
 30+  876F 00 00 00 00
 30+  8773 00 00 00 00
 30+  8777 00 00 00 00
 30+  877B 11 13 13 13
 30+  877F 00 00 00 00
 30+  8783 00 00 00 00
 30+  8787 00 00 00 00
 30+  878B 00 00 00 00
 30+  878F 00 00 00 00
 30+  8793 00 00 00 00
 31+  8797 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,03,03,00,00,02,20,20,20,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 31+  879B 00 00 00 00
 31+  879F 00 00 00 00
 31+  87A3 00 00 00 00
 31+  87A7 00 00 00 00
 31+  87AB 00 00 00 00
 31+  87AF 00 00 00 00
 31+  87B3 00 00 00 00
 31+  87B7 00 00 00 00
 31+  87BB 00 00 00 00
 31+  87BF 00 00 00 00
 31+  87C3 00 00 01 03
 31+  87C7 03 03 00 00
 31+  87CB 02 14 14 14
 31+  87CF 00 00 00 00
 31+  87D3 00 00 00 00
 31+  87D7 00 00 00 00
 31+  87DB 00 00 00 00
 31+  87DF 00 00 00 00
 31+  87E3 00 00 00 00
 32+  87E7 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,01,03,03,03,03,03,03,03,03,03,03,03,33,00,00,00,00,00,00,00,00,00,00,17,19,00,00,17,19,19,19,00,00,18,19,19,19,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 32+  87EB 00 00 00 00
 32+  87EF 00 00 00 00
 32+  87F3 00 00 00 00
 32+  87F7 00 00 00 01
 32+  87FB 03 03 03 03
 32+  87FF 03 03 03 03
 32+  8803 03 03 03 21
 32+  8807 00 00 00 00
 32+  880B 00 00 00 00
 32+  880F 00 00 11 13
 32+  8813 00 00 11 13
 32+  8817 13 13 00 00
 32+  881B 12 13 13 13
 32+  881F 00 00 00 00
 32+  8823 00 00 00 00
 32+  8827 00 00 00 00
 32+  882B 00 00 00 00
 32+  882F 00 00 00 00
 32+  8833 00 00 00 00
 33+  8837 00 00 00 00      db 00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,17,19,19,19,19,19,19,19,19,19,19,19,49,00,00,00,00,00,00,00,00,00,00,00,00,00,00,02,20,20,20,00,00,02,20,20,20,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 33+  883B 00 00 00 00
 33+  883F 00 00 00 00
 33+  8843 00 00 00 00
 33+  8847 00 00 00 11
 33+  884B 13 13 13 13
 33+  884F 13 13 13 13
 33+  8853 13 13 13 31
 33+  8857 00 00 00 00
 33+  885B 00 00 00 00
 33+  885F 00 00 00 00
 33+  8863 00 00 02 14
 33+  8867 14 14 00 00
 33+  886B 02 14 14 14
 33+  886F 00 00 00 00
 33+  8873 00 00 00 00
 33+  8877 00 00 00 00
 33+  887B 00 00 00 00
 33+  887F 00 00 00 00
 33+  8883 00 00 00 00
 34+  8887 00 01 03 03      db 00,01,03,03,03,03,03,33,00,01,03,03,03,03,03,03,03,03,33,02,20,20,20,20,20,20,20,20,20,20,20,34,03,03,03,33,00,17,19,00,17,19,17,19,00,00,18,19,19,19,00,00,18,19,19,19,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 34+  888B 03 03 03 21
 34+  888F 00 01 03 03
 34+  8893 03 03 03 03
 34+  8897 03 03 21 02
 34+  889B 14 14 14 14
 34+  889F 14 14 14 14
 34+  88A3 14 14 14 22
 34+  88A7 03 03 03 21
 34+  88AB 00 11 13 00
 34+  88AF 11 13 11 13
 34+  88B3 00 00 12 13
 34+  88B7 13 13 00 00
 34+  88BB 12 13 13 13
 34+  88BF 00 00 00 00
 34+  88C3 00 00 00 00
 34+  88C7 00 00 00 00
 34+  88CB 00 00 00 00
 34+  88CF 00 00 00 00
 34+  88D3 00 00 00 00
 35+  88D7 00 11 13 13      db 00,17,19,19,19,19,19,49,00,17,19,19,19,19,19,19,19,19,49,18,19,19,19,19,19,19,19,19,19,19,19,50,19,19,19,49,00,00,00,00,00,00,00,00,00,00,02,20,20,20,00,00,02,20,20,20,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00,00
 35+  88DB 13 13 13 31
 35+  88DF 00 11 13 13
 35+  88E3 13 13 13 13
 35+  88E7 13 13 31 12
 35+  88EB 13 13 13 13
 35+  88EF 13 13 13 13
 35+  88F3 13 13 13 32
 35+  88F7 13 13 13 31
 35+  88FB 00 00 00 00
 35+  88FF 00 00 00 00
 35+  8903 00 00 02 14
 35+  8907 14 14 00 00
 35+  890B 02 14 14 14
 35+  890F 00 00 00 00
 35+  8913 00 00 00 00
 35+  8917 00 00 00 00
 35+  891B 00 00 00 00
 35+  891F 00 00 00 00
 35+  8923 00 00 00 00
 36+  8927
 37+  8927              ;OO
 38+  8927              ;OO
 39+  8927
 40+  8927              metatiles:
 41+  8927 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR   ;supertile 0
 41+  892B 00 00 00 00
 42+  892F 02 00 03 00      db 2,TILE_ATTR_NOMIRROR,3,TILE_ATTR_NOMIRROR,34,TILE_ATTR_NOMIRROR,35,TILE_ATTR_NOMIRROR ;1
 42+  8933 22 00 23 00
 43+  8937 04 00 05 00      db 4,TILE_ATTR_NOMIRROR,5,TILE_ATTR_NOMIRROR,36,TILE_ATTR_NOMIRROR,37,TILE_ATTR_NOMIRROR ;2
 43+  893B 24 00 25 00
 44+  893F 06 00 07 00      db 6,TILE_ATTR_NOMIRROR,7,TILE_ATTR_NOMIRROR,38,TILE_ATTR_NOMIRROR,39,TILE_ATTR_NOMIRROR ;3
 44+  8943 26 00 27 00
 45+  8947 08 00 09 00      db 8,TILE_ATTR_NOMIRROR,9,TILE_ATTR_NOMIRROR,40,TILE_ATTR_NOMIRROR,41,TILE_ATTR_NOMIRROR ;4
 45+  894B 28 00 29 00
 46+  894F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 46+  8953 00 00 00 00
 47+  8957 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 47+  895B 00 00 00 00
 48+  895F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 48+  8963 00 00 00 00
 49+  8967 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 49+  896B 00 00 00 00
 50+  896F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 50+  8973 00 00 00 00
 51+  8977 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 51+  897B 00 00 00 00
 52+  897F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 52+  8983 00 00 00 00
 53+  8987 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 53+  898B 00 00 00 00
 54+  898F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 54+  8993 00 00 00 00
 55+  8997 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 55+  899B 00 00 00 00
 56+  899F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 56+  89A3 00 00 00 00
 57+  89A7 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 57+  89AB 00 00 00 00
 58+  89AF 42 00 43 00      db 66,TILE_ATTR_NOMIRROR,67,TILE_ATTR_NOMIRROR,98,TILE_ATTR_NOMIRROR,99,TILE_ATTR_NOMIRROR ;17
 58+  89B3 62 00 63 00
 59+  89B7 44 00 45 00      db 68,TILE_ATTR_NOMIRROR,69,TILE_ATTR_NOMIRROR,100,TILE_ATTR_NOMIRROR,101,TILE_ATTR_NOMIRROR ;18
 59+  89BB 64 00 65 00
 60+  89BF 46 00 47 00      db 70,TILE_ATTR_NOMIRROR,71,TILE_ATTR_NOMIRROR,102,TILE_ATTR_NOMIRROR,103,TILE_ATTR_NOMIRROR ;19
 60+  89C3 66 00 67 00
 61+  89C7 48 00 49 00      db 72,TILE_ATTR_NOMIRROR,73,TILE_ATTR_NOMIRROR,104,TILE_ATTR_NOMIRROR,105,TILE_ATTR_NOMIRROR ;20
 61+  89CB 68 00 69 00
 62+  89CF 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 62+  89D3 00 00 00 00
 63+  89D7 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 63+  89DB 00 00 00 00
 64+  89DF 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 64+  89E3 00 00 00 00
 65+  89E7 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 65+  89EB 00 00 00 00
 66+  89EF 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 66+  89F3 00 00 00 00
 67+  89F7 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 67+  89FB 00 00 00 00
 68+  89FF 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 68+  8A03 00 00 00 00
 69+  8A07 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 69+  8A0B 00 00 00 00
 70+  8A0F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR
 70+  8A13 00 00 00 00
 71+  8A17 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR ;30
 71+  8A1B 00 00 00 00
 72+  8A1F 00 00 00 00      db 0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR,0,TILE_ATTR_NOMIRROR ;31 - end of definitions
 72+  8A23 00 00 00 00
 73+  8A27 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;32 0*
 73+  8A2B 00 08 00 08
 74+  8A2F 03 08 02 08      db 3,TILE_ATTR_MIRROR,2,TILE_ATTR_MIRROR,35,TILE_ATTR_MIRROR,34,TILE_ATTR_MIRROR ;33 1*
 74+  8A33 23 08 22 08
 75+  8A37 05 08 04 08      db 5,TILE_ATTR_MIRROR,4,TILE_ATTR_MIRROR,37,TILE_ATTR_MIRROR,36,TILE_ATTR_MIRROR ;34 2*
 75+  8A3B 25 08 24 08
 76+  8A3F 07 08 06 08      db 7,TILE_ATTR_MIRROR,6,TILE_ATTR_MIRROR,39,TILE_ATTR_MIRROR,38,TILE_ATTR_MIRROR ;35 3*
 76+  8A43 27 08 26 08
 77+  8A47 09 08 08 08      db 9,TILE_ATTR_MIRROR,8,TILE_ATTR_MIRROR,41,TILE_ATTR_MIRROR,40,TILE_ATTR_MIRROR ;36 4*
 77+  8A4B 29 08 28 08
 78+  8A4F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 78+  8A53 00 08 00 08
 79+  8A57 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 79+  8A5B 00 08 00 08
 80+  8A5F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 80+  8A63 00 08 00 08
 81+  8A67 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 81+  8A6B 00 08 00 08
 82+  8A6F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 82+  8A73 00 08 00 08
 83+  8A77 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 83+  8A7B 00 08 00 08
 84+  8A7F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 84+  8A83 00 08 00 08
 85+  8A87 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 85+  8A8B 00 08 00 08
 86+  8A8F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 86+  8A93 00 08 00 08
 87+  8A97 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 87+  8A9B 00 08 00 08
 88+  8A9F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 88+  8AA3 00 08 00 08
 89+  8AA7 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 89+  8AAB 00 08 00 08
 90+  8AAF 43 08 42 08      db 67,TILE_ATTR_MIRROR,66,TILE_ATTR_MIRROR,99,TILE_ATTR_MIRROR,98,TILE_ATTR_MIRROR ;49 17*
 90+  8AB3 63 08 62 08
 91+  8AB7 45 08 44 08      db 69,TILE_ATTR_MIRROR,68,TILE_ATTR_MIRROR,101,TILE_ATTR_MIRROR,100,TILE_ATTR_MIRROR ;18*
 91+  8ABB 65 08 64 08
 92+  8ABF 47 08 46 08      db 71,TILE_ATTR_MIRROR,70,TILE_ATTR_MIRROR,103,TILE_ATTR_MIRROR,102,TILE_ATTR_MIRROR ;19*
 92+  8AC3 67 08 66 08
 93+  8AC7 49 08 48 08      db 73,TILE_ATTR_MIRROR,72,TILE_ATTR_MIRROR,105,TILE_ATTR_MIRROR,104,TILE_ATTR_MIRROR ;20*
 93+  8ACB 69 08 68 08
 94+  8ACF 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 94+  8AD3 00 08 00 08
 95+  8AD7 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 95+  8ADB 00 08 00 08
 96+  8ADF 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 96+  8AE3 00 08 00 08
 97+  8AE7 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 97+  8AEB 00 08 00 08
 98+  8AEF 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 98+  8AF3 00 08 00 08
 99+  8AF7 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
 99+  8AFB 00 08 00 08
100+  8AFF 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
100+  8B03 00 08 00 08
101+  8B07 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
101+  8B0B 00 08 00 08
102+  8B0F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR
102+  8B13 00 08 00 08
103+  8B17 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;30*
103+  8B1B 00 08 00 08
104+  8B1F 00 08 00 08      db 0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR,0,TILE_ATTR_MIRROR ;31*
104+  8B23 00 08 00 08
105+  8B27                  ;supertile 31 is last
# file closed: src/levels/levels.asm
 36   8B27              	include 'levels\levelmanager.asm'
# file opened: src/levels/levelmanager.asm
  1+  8B27              TILE_DEFINITIONS_SIZE equ 4096
  2+  8B27
  3+  8B27              WORLD_WIDTH equ 160
  4+  8B27              VIEW_WIDTH equ 40
  5+  8B27              VIEW_HEIGHT equ 32
  6+  8B27
  7+  8B27              VIEW_WIDTH_META equ 20
  8+  8B27
  9+  8B27
 10+  8B27              VIEW_SIZE equ VIEW_WIDTH*VIEW_HEIGHT
 11+  8B27
 12+  8B27
 13+  8B27 00           current_scroll db 0
 14+  8B28 01           scroll_direction db RIGHT
 15+  8B29
 16+  8B29              LEVEL_START equ 0
 17+  8B29 14           cam_edge_r db LEVEL_START+VIEW_WIDTH_META
 18+  8B2A 00           cam_x db LEVEL_START
 19+  8B2B
 20+  8B2B 00 00        test_layer2_scroll dw 0
 21+  8B2D
 22+  8B2D
 23+  8B2D              layer2_init:
 24+  8B2D                  CLIP_LAYER2 4,155,0,255 ;layer 2 is basically rotated to do 320x256 mode
 24+  8B2D 3E 04       >		ld a,4
 24+  8B2F ED 92 18    >		nextreg $18,a
 24+  8B32 3E 9B       >		ld a,155
 24+  8B34 ED 92 18    >		nextreg $18,a
 24+  8B37 3E 00       >		ld a,0
 24+  8B39 ED 92 18    >		nextreg $18,a
 24+  8B3C 3E FF       >		ld a,255
 24+  8B3E ED 92 18    >		nextreg $18,a
 24+  8B41             >
 25+  8B41
 26+  8B41 ED 91 70 10      nextreg $70, %00010000 ;bit5-4=320x256x8bpp mode
 27+  8B45 ED 91 69 80      nextreg $69, %10000000 ;bit7=enable layer2
 28+  8B49 ED 91 12 14  	nextreg $12,20 ;layer2 ram page register
 29+  8B4D C9               ret
 30+  8B4E
 31+  8B4E              tiles_init:
 32+  8B4E                  CLIPTILES 4,155,0,255
 32+  8B4E 3E 04       >		ld a,4
 32+  8B50 ED 92 1B    >		nextreg $1b,a
 32+  8B53 3E 9B       >		ld a,155
 32+  8B55 ED 92 1B    >		nextreg $1b,a
 32+  8B58 3E 00       >		ld a,0
 32+  8B5A ED 92 1B    >		nextreg $1b,a
 32+  8B5D 3E FF       >		ld a,255
 32+  8B5F ED 92 1B    >		nextreg $1b,a
 32+  8B62             >
 33+  8B62 CD B5 8B         call tiles_set_palette
 34+  8B65
 35+  8B65                  ;load the tile defs
 36+  8B65 ED 91 56 10      nextreg $56, 16
 37+  8B69 21 00 C0         ld hl,$c000
 38+  8B6C 11 00 60         ld de,$6000
 39+  8B6F 01 00 10         ld bc,TILE_DEFINITIONS_SIZE
 40+  8B72 ED B0            ldir
 41+  8B74
 42+  8B74 ED 91 6B 80      nextreg $6b, %10000000
 43+  8B78 ED 91 6C 00      nextreg $6c, 0
 44+  8B7C ED 91 6E 40      nextreg $6e, $40
 45+  8B80 ED 91 6F 60      nextreg $6f, $60
 46+  8B84 ED 91 68 80      nextreg $68, %10000000
 47+  8B88 ED 91 43 30      nextreg $43, %00110000
 48+  8B8C
 49+  8B8C                  ; ld a,3
 50+  8B8C
 51+  8B8C AF               xor a ;black
 52+  8B8D ED 92 4C         nextreg $4c,a ;tilemap transparency colour
 53+  8B90 ED 92 14         nextreg $14,a; global transparency colour
 54+  8B93
 55+  8B93
 56+  8B93
 57+  8B93 CD CF 8B         call view_init
 58+  8B96
 59+  8B96 C9               ret
 60+  8B97
 61+  8B97
 62+  8B97              layer2_update:
 63+  8B97 2A 2B 8B         ld hl,(test_layer2_scroll)
 64+  8B9A 7D               ld a,l
 65+  8B9B ED 92 16         nextreg $16, a
 66+  8B9E 7C               ld a,h
 67+  8B9F ED 92 71         nextreg $71, a
 68+  8BA2 23               inc hl
 69+  8BA3 23               inc hl
 70+  8BA4
 71+  8BA4 22 2B 8B         ld (test_layer2_scroll),hl
 72+  8BA7 FE 00            cp 0
 73+  8BA9 C8               ret z
 74+  8BAA
 75+  8BAA 7D               ld a,l
 76+  8BAB FE 40            cp low 320
 77+  8BAD C0               ret nz
 78+  8BAE
 79+  8BAE 21 00 00         ld hl,0
 80+  8BB1 22 2B 8B         ld (test_layer2_scroll),hl
 81+  8BB4 C9               ret
 82+  8BB5
 83+  8BB5
 84+  8BB5
 85+  8BB5
 86+  8BB5              tiles_set_palette:
 87+  8BB5 21 05 8D         ld hl,caveman_palette
 88+  8BB8 ED 91 43 30      nextreg $43,%00110000
 89+  8BBC AF               xor a
 90+  8BBD 06 10            ld b,16
 91+  8BBF ED 92 40         nextreg $40,a
 92+  8BC2              uploadpal:
 93+  8BC2 7E               ld a,(hl)
 94+  8BC3 ED 92 44         nextreg $44,a
 95+  8BC6 23               inc hl
 96+  8BC7 7E               ld a,(hl)
 97+  8BC8 ED 92 44         nextreg $44,a
 98+  8BCB 23               inc hl
 99+  8BCC 10 F4            djnz uploadpal
100+  8BCE C9               ret
101+  8BCF
102+  8BCF
103+  8BCF              ;does 2 passes per 'map' line, due to 2 rows within each supertile
104+  8BCF              view_init:
105+  8BCF DD 21 A7 86      ld ix,metalevel ;point at level 'map' (in meta tiles)
106+  8BD3 11 00 45         ld de,$4500 ;
107+  8BD6 0E 00            ld c,0
108+  8BD8              view_init_screen:
109+  8BD8 06 14            ld b,VIEW_WIDTH_META
110+  8BDA              view_init_line_pass1:
111+  8BDA 21 27 89         ld hl,metatiles
112+  8BDD DD 7E 00         ld a,(ix)
113+  8BE0 87               add a,a
114+  8BE1 87               add a,a ;A*4 (metatile size)
115+  8BE2 ED 31            add hl,a
116+  8BE4 ED 31            add hl,a ;add twice to hl because metatile elements are 2 bytes each
117+  8BE6 7E               ld a,(hl)
118+  8BE7 12               ld (de),a
119+  8BE8 23               inc hl
120+  8BE9 13               inc de
121+  8BEA 7E               ld a,(hl)
122+  8BEB 12               ld (de),a
123+  8BEC 23               inc hl
124+  8BED 13               inc de
125+  8BEE 7E               ld a,(hl)
126+  8BEF 12               ld (de),a
127+  8BF0 23               inc hl
128+  8BF1 13               inc de
129+  8BF2 7E               ld a,(hl)
130+  8BF3 12               ld (de),a
131+  8BF4 13               inc de
132+  8BF5 DD 23            inc ix
133+  8BF7 10 E1            djnz view_init_line_pass1
134+  8BF9 06 14            ld b,VIEW_WIDTH_META
135+  8BFB              view_init_golineback:
136+  8BFB DD 2B            dec ix
137+  8BFD 10 FC            djnz view_init_golineback
138+  8BFF 06 14            ld b,VIEW_WIDTH_META
139+  8C01              view_init_line_pass2:
140+  8C01 21 27 89         ld hl,metatiles
141+  8C04 DD 7E 00         ld a,(ix)
142+  8C07 87               add a,a
143+  8C08 87               add a,a ;A*4 (metatile size)
144+  8C09 ED 31            add hl,a
145+  8C0B ED 31            add hl,a
146+  8C0D 3E 04            ld a,4
147+  8C0F ED 31            add hl,a
148+  8C11 7E               ld a,(hl)
149+  8C12 12               ld (de),a
150+  8C13 23               inc hl
151+  8C14 13               inc de
152+  8C15 7E               ld a,(hl)
153+  8C16 12               ld (de),a
154+  8C17 23               inc hl
155+  8C18 13               inc de
156+  8C19 7E               ld a,(hl)
157+  8C1A 12               ld (de),a
158+  8C1B 23               inc hl
159+  8C1C 13               inc de
160+  8C1D 7E               ld a,(hl)
161+  8C1E 12               ld (de),a
162+  8C1F 13               inc de
163+  8C20 DD 23            inc ix
164+  8C22 10 DD            djnz view_init_line_pass2
165+  8C24
166+  8C24 D5               push de
167+  8C25 11 3C 00         ld de,LEVEL_WIDTH_META-VIEW_WIDTH_META
168+  8C28 DD 19            add ix,de
169+  8C2A D1               pop de
170+  8C2B 0C               inc c
171+  8C2C 79               ld a,c
172+  8C2D FE 08            cp LEVEL_HEIGHT_META
173+  8C2F DA D8 8B         jp c,view_init_screen
174+  8C32 C9               ret
175+  8C33
176+  8C33
177+  8C33 00           meta_tile_offset db 0
178+  8C34
179+  8C34
180+  8C34              scroll_left:
181+  8C34 C9               ret
182+  8C35
183+  8C35              ; AB  (meta tile "a")
184+  8C35              ; CD
185+  8C35              ; EF (meta tile "b")
186+  8C35              ; GH
187+  8C35
188+  8C35              ; .. you draw only:
189+  8C35              ; A
190+  8C35              ; E
191+  8C35              scroll_right:
192+  8C35 3E 01            ld a,RIGHT
193+  8C37 32 28 8B         ld (scroll_direction),a
194+  8C3A
195+  8C3A 3A 29 8B         ld a,(cam_edge_r)
196+  8C3D D6 14            sub VIEW_WIDTH_META
197+  8C3F 32 2A 8B         ld (cam_x),a
198+  8C42
199+  8C42 3A 29 8B         ld a,(cam_edge_r)
200+  8C45 FE 50            cp LEVEL_WIDTH_META
201+  8C47 D2 56 82         jp nc, p_move_right
202+  8C4A
203+  8C4A 3A 27 8B         ld a,(current_scroll)
204+  8C4D 3C               inc a
205+  8C4E FE 08            cp 8
206+  8C50 32 27 8B         ld (current_scroll),a
207+  8C53 CC 5D 8C         call z,sr_scrollmax
208+  8C56 3A 27 8B         ld a,(current_scroll)
209+  8C59 ED 92 30         nextreg $30,a
210+  8C5C C9               ret
211+  8C5D              sr_scrollmax:
212+  8C5D 21 02 45         ld hl,LEVEL_Y_START_ADDRESS+2
213+  8C60 11 00 45         ld de,LEVEL_Y_START_ADDRESS
214+  8C63 01 00 05         ld bc,20*32*2
215+  8C66 ED B0            ldir
216+  8C68
217+  8C68 21 A7 86         ld hl,metalevel
218+  8C6B 3A 29 8B         ld a,(cam_edge_r)
219+  8C6E ED 31            add hl,a
220+  8C70 11 4E 45         ld de,LEVEL_Y_START_ADDRESS+78
221+  8C73 06 08            ld b,LEVEL_HEIGHT_META
222+  8C75
223+  8C75 3A 33 8C         ld a,(meta_tile_offset)
224+  8C78 FE 00            cp 0
225+  8C7A CA 80 8C         jp z,sr_putcolumn1
226+  8C7D C2 BE 8C         jp nz,sr_putcolumn2
227+  8C80              sr_putcolumn1:
228+  8C80 7E               ld a,(hl)
229+  8C81 87               add a,a
230+  8C82 87               add a,a
231+  8C83 E5               push hl
232+  8C84 21 27 89         ld hl,metatiles
233+  8C87 ED 31            add hl,a
234+  8C89 ED 31            add hl,a
235+  8C8B 7E               ld a,(hl)
236+  8C8C 12               ld (de),a ;Aa
237+  8C8D 23               inc hl
238+  8C8E 13               inc de
239+  8C8F 7E               ld a,(hl)
240+  8C90 12               ld (de),a ;Ab
241+  8C91 E1               pop hl
242+  8C92 ED 35 4F 00      add de,(VIEW_WIDTH*2)-1 ;WIDTH-1
243+  8C96 7E               ld a,(hl)
244+  8C97 87               add a,a
245+  8C98 87               add a,a
246+  8C99 E5               push hl
247+  8C9A 21 27 89         ld hl,metatiles
248+  8C9D ED 31            add hl,a
249+  8C9F C6 04            add a,4
250+  8CA1 ED 31            add hl,a
251+  8CA3 7E               ld a,(hl)
252+  8CA4 12               ld (de),a ;Ca
253+  8CA5 23               inc hl
254+  8CA6 13               inc de
255+  8CA7 7E               ld a,(hl)
256+  8CA8 12               ld (de),a ;Ca
257+  8CA9 E1               pop hl
258+  8CAA ED 35 4F 00      add de,(VIEW_WIDTH*2)-1
259+  8CAE ED 34 50 00      add hl,LEVEL_WIDTH_META
260+  8CB2 10 CC            djnz sr_putcolumn1
261+  8CB4
262+  8CB4 3E 01            ld a,1
263+  8CB6 32 33 8C         ld (meta_tile_offset),a
264+  8CB9
265+  8CB9 AF               xor a
266+  8CBA 32 27 8B         ld (current_scroll),a
267+  8CBD
268+  8CBD C9               ret
269+  8CBE              sr_putcolumn2:
270+  8CBE 7E               ld a,(hl)
271+  8CBF 87               add a,a
272+  8CC0 87               add a,a
273+  8CC1 E5               push hl
274+  8CC2 21 27 89         ld hl,metatiles
275+  8CC5 ED 31            add hl,a
276+  8CC7 C6 02            add a,2
277+  8CC9 ED 31            add hl,a
278+  8CCB 7E               ld a,(hl)
279+  8CCC 12               ld (de),a ;Ba
280+  8CCD 23               inc hl
281+  8CCE 13               inc de
282+  8CCF 7E               ld a,(hl)
283+  8CD0 12               ld (de),a ;Bb
284+  8CD1 E1               pop hl
285+  8CD2 ED 35 4F 00      add de,(VIEW_WIDTH*2)-1 ;WIDTH-1
286+  8CD6 7E               ld a,(hl)
287+  8CD7 87               add a,a
288+  8CD8 87               add a,a
289+  8CD9 E5               push hl
290+  8CDA 21 27 89         ld hl,metatiles
291+  8CDD ED 31            add hl,a
292+  8CDF C6 06            add a,6
293+  8CE1 ED 31            add hl,a
294+  8CE3 7E               ld a,(hl)
295+  8CE4 12               ld (de),a ;Da
296+  8CE5 23               inc hl
297+  8CE6 13               inc de
298+  8CE7 7E               ld a,(hl)
299+  8CE8 12               ld (de),a ;Db
300+  8CE9 E1               pop hl
301+  8CEA ED 35 4F 00      add de,(VIEW_WIDTH*2)-1
302+  8CEE ED 34 50 00      add hl,LEVEL_WIDTH_META
303+  8CF2 10 CA            djnz sr_putcolumn2
304+  8CF4
305+  8CF4
306+  8CF4 3E 00            ld a,0
307+  8CF6 32 33 8C         ld (meta_tile_offset),a
308+  8CF9
309+  8CF9
310+  8CF9 3A 29 8B         ld a,(cam_edge_r)
311+  8CFC 3C               inc a
312+  8CFD 32 29 8B         ld (cam_edge_r),a
313+  8D00
314+  8D00 AF               xor a
315+  8D01 32 27 8B         ld (current_scroll),a
316+  8D04
317+  8D04 C9               ret
318+  8D05
319+  8D05
320+  8D05
321+  8D05
322+  8D05
323+  8D05
324+  8D05
325+  8D05
326+  8D05
327+  8D05
328+  8D05
329+  8D05
330+  8D05
331+  8D05              ; scroll_right_old:
332+  8D05              ;     ld a,RIGHT
333+  8D05              ;     ld (scroll_direction),a
334+  8D05
335+  8D05              ;     ld a,(cam_edge_r)
336+  8D05              ;     sub VIEW_WIDTH_META
337+  8D05              ;     ld (cam_x),a
338+  8D05
339+  8D05              ;     ld a,(cam_edge_r)
340+  8D05              ;     cp LEVEL_WIDTH_META
341+  8D05              ;     jp nc, p_move_right
342+  8D05
343+  8D05              ;     ld a,(current_scroll)
344+  8D05              ;     inc a
345+  8D05              ;     cp 8
346+  8D05              ;     ld (current_scroll),a
347+  8D05              ;     call z,sr_scrollmax
348+  8D05              ;     ld (current_scroll),a
349+  8D05              ;     nextreg $30,a
350+  8D05              ;     ret
351+  8D05              ; sr_scrollmax:
352+  8D05              ;     ld hl,LEVEL_Y_START_ADDRESS+1
353+  8D05              ;     ld de,LEVEL_Y_START_ADDRESS
354+  8D05              ;     ld bc,20*32
355+  8D05              ;     ldir
356+  8D05              ;     ld hl,metalevel
357+  8D05              ;     ld a,(cam_edge_r)
358+  8D05              ;     add hl,a
359+  8D05              ;     ld de,LEVEL_Y_START_ADDRESS+39 ;top right cell
360+  8D05              ;     ld b,LEVEL_HEIGHT_META
361+  8D05
362+  8D05              ;     ld a,(meta_tile_offset)
363+  8D05              ;     cp 0
364+  8D05              ;     jp z,sr_putcolumn
365+  8D05              ;     jp nz,sr_putcolumn_2nd
366+  8D05              ; sr_putcolumn:
367+  8D05              ;     ld a,(hl)
368+  8D05              ;     add a,a
369+  8D05              ;     add a,a ;A*4
370+  8D05              ;     push hl
371+  8D05              ;     ld hl,metatiles
372+  8D05              ;     add hl,a
373+  8D05              ;     add hl,a
374+  8D05              ;     ld a,(hl)
375+  8D05              ;     ld (de),a
376+  8D05              ;     inc hl
377+  8D05              ;     inc de
378+  8D05              ;     ld a,(hl)
379+  8D05              ;     pop hl
380+  8D05              ;     ld (de),a
381+  8D05              ;     add de,VIEW_WIDTH-1
382+  8D05              ;     ld a,(hl)
383+  8D05              ;     add a,a
384+  8D05              ;     add a,a ;A*4
385+  8D05              ;     push hl
386+  8D05              ;     ld hl,metatiles
387+  8D05              ;     add hl,a
388+  8D05              ;     add a,4 ; halfway thru the metatile
389+  8D05              ;     add hl,a
390+  8D05              ;     ld a,(hl)
391+  8D05              ;     ld (de),a
392+  8D05              ;     inc hl
393+  8D05              ;     inc de
394+  8D05              ;     ld a,(hl)
395+  8D05              ;     pop hl
396+  8D05              ;     ld (de),a
397+  8D05              ;     add de,VIEW_WIDTH-1
398+  8D05              ;     add hl,LEVEL_WIDTH_META
399+  8D05              ;     djnz sr_putcolumn
400+  8D05
401+  8D05              ;     ld a,1
402+  8D05              ;     ld (meta_tile_offset),a
403+  8D05
404+  8D05              ;     xor a
405+  8D05              ;     ld (current_scroll),a
406+  8D05
407+  8D05              ;     ret
408+  8D05              ; sr_putcolumn_2nd:
409+  8D05              ;    ld a,(hl)
410+  8D05              ;     add a,a
411+  8D05              ;     add a,a ;A*4
412+  8D05              ;     push hl
413+  8D05              ;     ld hl,metatiles
414+  8D05              ;     add hl,a
415+  8D05              ;     add a,2
416+  8D05              ;     add hl,a
417+  8D05              ;     ld a,(hl)
418+  8D05              ;     ld (de),a
419+  8D05              ;     inc hl
420+  8D05              ;     inc de
421+  8D05              ;     ld a,(hl)
422+  8D05              ;     pop hl
423+  8D05              ;     ld (de),a
424+  8D05              ;     add de,VIEW_WIDTH-1
425+  8D05              ;     ld a,(hl)
426+  8D05              ;     add a,a
427+  8D05              ;     add a,a ;A*4
428+  8D05              ;     push hl
429+  8D05              ;     ld hl,metatiles
430+  8D05              ;     add hl,a
431+  8D05              ;     add a,6 ; halfway thru the metatile
432+  8D05              ;     add hl,a
433+  8D05              ;     ld a,(hl)
434+  8D05              ;     ld (de),a
435+  8D05              ;     inc hl
436+  8D05              ;     inc de
437+  8D05              ;     ld a,(hl)
438+  8D05              ;     pop hl
439+  8D05              ;     ld (de),a
440+  8D05              ;     add de,VIEW_WIDTH-1
441+  8D05              ;     add hl,LEVEL_WIDTH_META
442+  8D05              ;     djnz sr_putcolumn_2nd
443+  8D05
444+  8D05
445+  8D05              ;     ld a,(cam_edge_r)
446+  8D05              ;     inc a
447+  8D05              ;     ld (cam_edge_r),a
448+  8D05
449+  8D05              ;     ld a,0
450+  8D05              ;     ld (meta_tile_offset),a
451+  8D05
452+  8D05              ;     xor a
453+  8D05              ;     ld (current_scroll),a
454+  8D05
455+  8D05              ;     ret
456+  8D05
457+  8D05
458+  8D05
459+  8D05
460+  8D05
461+  8D05
462+  8D05
463+  8D05              ; scroll_left:
464+  8D05              ;     ld a,LEFT
465+  8D05              ;     ld (scroll_direction),a
466+  8D05
467+  8D05              ;     ld a,(cam_edge_r)
468+  8D05              ;     cp LEVEL_START+VIEW_WIDTH+1
469+  8D05              ;     jp c, p_move_left
470+  8D05
471+  8D05              ;     ld a,(cam_edge_r)
472+  8D05              ;     sub VIEW_WIDTH
473+  8D05              ;     ld (cam_x),a
474+  8D05
475+  8D05              ;     ld a,(current_scroll)
476+  8D05              ;     inc a
477+  8D05              ;     cp 8
478+  8D05              ;     call z,drawcolumn_left
479+  8D05              ;     ld (current_scroll),a
480+  8D05              ;     ld b,a
481+  8D05              ;     ld a,8
482+  8D05              ;     sub b
483+  8D05              ;     nextreg $30,a
484+  8D05              ;     ret
485+  8D05              ; drawcolumn_left:
486+  8D05              ;     ; ld hl,$4000+1279
487+  8D05              ;     ; ld de,$4001+1279
488+  8D05              ;     ld hl,$44FF
489+  8D05              ;     ld de,$4500
490+  8D05              ;     ld bc,40*32
491+  8D05              ;     lddr  ; move whole screen to right 1 tile
492+  8D05              ;     ld hl,level1            ; start of tiles
493+  8D05              ;     ld a,(cam_x)           ; current cam_edge_r
494+  8D05              ;     dec a
495+  8D05              ;     add hl,a                ; add this to tile cam_edge_r
496+  8D05              ;     ; dec a                   ; dec the cam_edge_r
497+  8D05              ;     add a,VIEW_WIDTH
498+  8D05              ;     ld (cam_edge_r),a
499+  8D05              ;     ld de,$4000              ; top left cell
500+  8D05              ;     ld b,VIEW_HEIGHT
501+  8D05              ; columnloop_left:
502+  8D05              ;     ld a,(hl)                   ; get tile from (hl)
503+  8D05              ;     ld (de),a                   ; put in (de)
504+  8D05              ;     add de,VIEW_WIDTH                  ; move de to next line
505+  8D05              ;     add hl,WORLD_WIDTH          ; move hl to next map line
506+  8D05              ;     djnz columnloop_left             ; loop for 32 lines
507+  8D05              ;     xor a
508+  8D05              ;     ld (current_scroll),a
509+  8D05              ;     ret
510+  8D05
511+  8D05
512+  8D05
513+  8D05              ; scroll_right:
514+  8D05              ;     ld a,RIGHT
515+  8D05              ;     ld (scroll_direction),a
516+  8D05
517+  8D05              ;     ld a,(cam_edge_r)
518+  8D05              ;     cp WORLD_WIDTH
519+  8D05              ;     jp nc, p_move_right
520+  8D05              ;     ld a,(current_scroll)
521+  8D05              ;     inc a
522+  8D05              ;     cp 8
523+  8D05              ;     call z,nowdrawcolumn
524+  8D05              ;     ld (current_scroll),a
525+  8D05              ;     nextreg $30,a
526+  8D05              ;     ret
527+  8D05              ; nowdrawcolumn:
528+  8D05              ;     ld hl,$4001
529+  8D05              ;     ld de,$4000
530+  8D05              ;     ld bc,1280
531+  8D05              ;     ldir  ; move whole screen to left 1 tile
532+  8D05              ;     ld hl,level1            ; start of tiles
533+  8D05              ;     ld a,(cam_edge_r)           ; current cam_edge_r
534+  8D05              ;     add hl,a                ; add this to tile cam_edge_r
535+  8D05              ;     inc a                   ; inc the cam_edge_r
536+  8D05              ;     ld (cam_edge_r),a
537+  8D05              ;     ld de,$4027              ; top right cell
538+  8D05              ;     ld b,VIEW_HEIGHT
539+  8D05              ; columnloop:
540+  8D05              ;     ld a,(hl)                   ; get tile from (hl)
541+  8D05              ;     ld (de),a                   ; put in (de)
542+  8D05              ;     add de,VIEW_WIDTH                  ; move de to next line
543+  8D05              ;     add hl,WORLD_WIDTH          ; move hl to next map line
544+  8D05              ;     djnz columnloop             ; loop for 32 lines
545+  8D05              ;     xor a
546+  8D05              ;     ld (current_scroll),a
547+  8D05              ;     ret
548+  8D05
549+  8D05
550+  8D05
551+  8D05
552+  8D05
553+  8D05
554+  8D05
555+  8D05
556+  8D05
557+  8D05
558+  8D05
559+  8D05
# file closed: src/levels/levelmanager.asm
 37   8D05              	include 'assets\sprites.asm'
# file opened: src/assets/sprites.asm
  1+  8D05              ; Sprite Attribute 0
  2+  8D05              ;     X X X X X X X X
  3+  8D05
  4+  8D05              ; Sprite Attribute 1
  5+  8D05              ;     Y Y Y Y Y Y Y Y
  6+  8D05
  7+  8D05              ; Sprite Attribute 2
  8+  8D05              ;     P P P P XM YM R X8/PR
  9+  8D05
 10+  8D05              ; Sprite Attribute 3
 11+  8D05              ;     V E N5 N4 N3 N2 N1 N0 (NNNNN=Pattern ID)
 12+  8D05
 13+  8D05              ; Sprite Attribute 4
 14+  8D05              ; A. Extended Anchor Sprite
 15+  8D05              ;     H N6 T X X Y Y Y8
 16+  8D05              ; B. Relative Sprite, Composite Type
 17+  8D05              ;     0 1 N6 X X Y Y PO
 18+  8D05              ; C. Relative Sprite, Unified Type
 19+  8D05              ;     0 1 N6 0 0 0 0 PO
 20+  8D05
 21+  8D05
 22+  8D05
# file closed: src/assets/sprites.asm
 38   8D05
 39   8D05
 40   8D05              	include 'loadbins.asm'
# file opened: src/loadbins.asm
  1+  8D05
  2+  8D05
  3+  8D05              ;;;;;Tiles
  4+  8D05
  5+  8D05
  6+  8D05
  7+  8D05
  8+  8D05
  9+  8D05              caveman_palette:
 10+  8D05                  incbin 'assets/cavemantiles.nxp',0
 11+  8D1F
 12+  8D1F                  MMU 6,16
 13+  8D1F                  org $c000
 14+  C000
 15+  C000                  incbin 'assets/cavemantiles.til',0,TILE_DEFINITIONS_SIZE
 16+  D000
 17+  D000
 18+  D000
 19+  D000
 20+  D000              ;;;sprites
 21+  D000              SPRITE_SEGMENTS equ 4
 22+  D000              SPRITE_COUNT equ 20
 23+  D000              SPRITE_PLAYER_COUNT equ 16
 24+  D000              SPRITE_PUMPKIN_START equ 16
 25+  D000              SPRITE_PUMPKIN_COUNT equ 2
 26+  D000
 27+  D000
 28+  D000
 29+  D000                  MMU 6,14
 30+  D000                  org $c000
 31+  C000
 32+  C000              spikealot_A_1:
 33+  C000 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $49, $00, $E3;
 33+  C004 E3 E3 E3 E3
 33+  C008 E3 E3 E3 6E
 33+  C00C B6 49 00 E3
 34+  C010 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $B6, $B6, $6E, $49;
 34+  C014 E3 E3 E3 E3
 34+  C018 E3 E3 49 B6
 34+  C01C B6 B6 6E 49
 35+  C020 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6, $B6, $B6, $6E;
 35+  C024 E3 E3 E3 E3
 35+  C028 E3 E3 92 B6
 35+  C02C B6 B6 B6 6E
 36+  C030 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $49, $49, $92, $B6, $B6;
 36+  C034 E3 E3 E3 E3
 36+  C038 E3 E3 00 49
 36+  C03C 49 92 B6 B6
 37+  C040 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $92, $6E, $49, $6E;
 37+  C044 E3 E3 E3 E3
 37+  C048 E3 E3 49 6E
 37+  C04C 92 6E 49 6E
 38+  C050 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $B6, $92, $92, $49;
 38+  C054 E3 E3 E3 E3
 38+  C058 E3 E3 49 92
 38+  C05C B6 92 92 49
 39+  C060 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $48, $B1, $48, $48, $48;
 39+  C064 E3 E3 E3 E3
 39+  C068 E3 E3 00 48
 39+  C06C B1 48 48 48
 40+  C070 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $48, $68, $D6, $92, $0E, $B6;
 40+  C074 E3 E3 E3 E3
 40+  C078 E3 E3 48 68
 40+  C07C D6 92 0E B6
 41+  C080 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $68, $D6, $D6, $D6, $D6, $D6;
 41+  C084 E3 E3 E3 E3
 41+  C088 E3 E3 68 D6
 41+  C08C D6 D6 D6 D6
 42+  C090 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $68, $68, $68, $68, $B1;
 42+  C094 E3 E3 E3 E3
 42+  C098 E3 49 00 68
 42+  C09C 68 68 68 B1
 43+  C0A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $48, $68, $68, $68, $68, $68;
 43+  C0A4 E3 E3 E3 E3
 43+  C0A8 E3 6E 48 68
 43+  C0AC 68 68 68 68
 44+  C0B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $68, $68, $48, $68, $48, $49;
 44+  C0B4 E3 E3 E3 E3
 44+  C0B8 E3 92 68 68
 44+  C0BC 48 68 48 49
 45+  C0C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $48, $48, $48, $49, $49, $6E;
 45+  C0C4 E3 E3 E3 E3
 45+  C0C8 E3 6E 48 48
 45+  C0CC 48 49 49 6E
 46+  C0D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $49, $92, $92, $92;
 46+  C0D4 E3 E3 E3 E3
 46+  C0D8 E3 49 B6 6E
 46+  C0DC 49 92 92 92
 47+  C0E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $49, $00, $B6, $B6, $92, $B6, $B6, $B6;
 47+  C0E4 E3 E3 E3 6E
 47+  C0E8 49 00 B6 B6
 47+  C0EC 92 B6 B6 B6
 48+  C0F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $6E, $00, $49, $B6, $B6, $B6, $92, $6E;
 48+  C0F4 E3 E3 6E B6
 48+  C0F8 6E 00 49 B6
 48+  C0FC B6 B6 92 6E
 49+  C100
 50+  C100              spikealot_A_2:
 51+  C100 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 51+  C104 E3 E3 E3 E3
 51+  C108 E3 E3 E3 E3
 51+  C10C E3 E3 E3 E3
 52+  C110 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 52+  C114 E3 E3 E3 E3
 52+  C118 E3 E3 E3 E3
 52+  C11C E3 E3 E3 E3
 53+  C120 49 00 E3 E3  	db  $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 53+  C124 E3 E3 E3 E3
 53+  C128 E3 E3 E3 E3
 53+  C12C E3 E3 E3 E3
 54+  C130 49 49 00 E3  	db  $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 54+  C134 E3 E3 E3 E3
 54+  C138 E3 E3 E3 E3
 54+  C13C E3 E3 E3 E3
 55+  C140 92 49 00 E3  	db  $92, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 55+  C144 E3 E3 E3 E3
 55+  C148 E3 E3 E3 E3
 55+  C14C E3 E3 E3 E3
 56+  C150 6E 49 49 00  	db  $6E, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 56+  C154 E3 E3 E3 E3
 56+  C158 E3 E3 E3 E3
 56+  C15C E3 E3 E3 E3
 57+  C160 49 49 49 00  	db  $49, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 57+  C164 E3 E3 E3 E3
 57+  C168 E3 E3 E3 E3
 57+  C16C E3 E3 E3 E3
 58+  C170 6E 49 49 00  	db  $6E, $49, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 58+  C174 00 E3 E3 E3
 58+  C178 E3 E3 E3 E3
 58+  C17C E3 E3 E3 E3
 59+  C180 6E 49 00 49  	db  $6E, $49, $00, $49, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 59+  C184 49 00 00 E3
 59+  C188 E3 E3 E3 E3
 59+  C18C E3 E3 E3 E3
 60+  C190 49 00 49 6E  	db  $49, $00, $49, $6E, $92, $B6, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 60+  C194 92 B6 49 00
 60+  C198 E3 E3 E3 E3
 60+  C19C E3 E3 E3 E3
 61+  C1A0 49 49 6E 92  	db  $49, $49, $6E, $92, $B6, $B6, $B6, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 61+  C1A4 B6 B6 B6 49
 61+  C1A8 00 E3 E3 E3
 61+  C1AC E3 E3 E3 E3
 62+  C1B0 6E 00 6E 92  	db  $6E, $00, $6E, $92, $92, $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 62+  C1B4 92 B6 B6 92
 62+  C1B8 00 E3 E3 E3
 62+  C1BC E3 E3 E3 E3
 63+  C1C0 92 00 49 92  	db  $92, $00, $49, $92, $6E, $49, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 63+  C1C4 6E 49 00 00
 63+  C1C8 00 E3 E3 E3
 63+  C1CC E3 E3 E3 E3
 64+  C1D0 6E 49 00 00  	db  $6E, $49, $00, $00, $00, $00, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 64+  C1D4 00 00 6E 49
 64+  C1D8 00 E3 E3 E3
 64+  C1DC E3 E3 E3 E3
 65+  C1E0 6E 00 00 00  	db  $6E, $00, $00, $00, $6E, $B6, $B6, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 65+  C1E4 6E B6 B6 6E
 65+  C1E8 00 E3 E3 E3
 65+  C1EC E3 E3 E3 E3
 66+  C1F0 00 00 49 00  	db  $00, $00, $49, $00, $6E, $92, $B6, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 66+  C1F4 6E 92 B6 49
 66+  C1F8 00 E3 E3 E3
 66+  C1FC E3 E3 E3 E3
 67+  C200
 68+  C200              spikealot_A_3:
 69+  C200 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $92, $00, $6E, $49, $6E, $6E, $49, $49;
 69+  C204 E3 E3 6E 92
 69+  C208 92 00 6E 49
 69+  C20C 6E 6E 49 49
 70+  C210 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $6E, $00, $6E, $B6, $6E, $92, $B6, $6E;
 70+  C214 E3 E3 49 6E
 70+  C218 6E 00 6E B6
 70+  C21C 6E 92 B6 6E
 71+  C220 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $00, $B6, $6E, $B6, $6E, $49;
 71+  C224 E3 E3 E3 E3
 71+  C228 49 6E 00 B6
 71+  C22C 6E B6 6E 49
 72+  C230 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $60, $00, $88, $88, $00, $88;
 72+  C234 E3 E3 E3 E3
 72+  C238 00 00 60 00
 72+  C23C 88 88 00 88
 73+  C240 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $60, $60, $00, $60;
 73+  C244 E3 E3 E3 E3
 73+  C248 E3 E3 49 00
 73+  C24C 60 60 00 60
 74+  C250 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $49, $49, $49, $49;
 74+  C254 E3 E3 E3 E3
 74+  C258 E3 E3 49 6E
 74+  C25C 49 49 49 49
 75+  C260 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $B6, $92, $92, $00;
 75+  C264 E3 E3 E3 E3
 75+  C268 E3 E3 49 B6
 75+  C26C B6 92 92 00
 76+  C270 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $B6, $00, $92, $92;
 76+  C274 E3 E3 E3 E3
 76+  C278 E3 E3 E3 00
 76+  C27C B6 00 92 92
 77+  C280 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $6E, $B6, $B6;
 77+  C284 E3 E3 E3 E3
 77+  C288 E3 E3 E3 E3
 77+  C28C 00 6E B6 B6
 78+  C290 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $92;
 78+  C294 E3 E3 E3 E3
 78+  C298 E3 E3 E3 E3
 78+  C29C E3 92 B6 92
 79+  C2A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $00;
 79+  C2A4 E3 E3 E3 E3
 79+  C2A8 E3 E3 E3 E3
 79+  C2AC E3 00 00 00
 80+  C2B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $92, $49;
 80+  C2B4 E3 E3 E3 E3
 80+  C2B8 E3 E3 E3 E3
 80+  C2BC 92 B6 92 49
 81+  C2C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $92, $49;
 81+  C2C4 E3 E3 E3 E3
 81+  C2C8 E3 E3 E3 E3
 81+  C2CC 92 B6 92 49
 82+  C2D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $B6, $B6, $92, $6E;
 82+  C2D4 E3 E3 E3 E3
 82+  C2D8 E3 E3 6E 92
 82+  C2DC B6 B6 92 6E
 83+  C2E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $92, $92, $92, $92, $92;
 83+  C2E4 E3 E3 E3 E3
 83+  C2E8 E3 6E 92 92
 83+  C2EC 92 92 92 92
 84+  C2F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $00, $00, $00, $00;
 84+  C2F4 E3 E3 E3 E3
 84+  C2F8 E3 E3 00 00
 84+  C2FC 00 00 00 00
 85+  C300
 86+  C300              spikealot_A_4:
 87+  C300 49 49 49 49  	db  $49, $49, $49, $49, $00, $00, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 87+  C304 00 00 6E 00
 87+  C308 E3 E3 E3 E3
 87+  C30C E3 E3 E3 E3
 88+  C310 49 49 6E B6  	db  $49, $49, $6E, $B6, $92, $00, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 88+  C314 92 00 49 00
 88+  C318 E3 E3 E3 E3
 88+  C31C E3 E3 E3 E3
 89+  C320 B6 92 B6 B6  	db  $B6, $92, $B6, $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 89+  C324 B6 92 00 E3
 89+  C328 E3 E3 E3 E3
 89+  C32C E3 E3 E3 E3
 90+  C330 B6 B6 B6 B6  	db  $B6, $B6, $B6, $B6, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 90+  C334 6E 00 E3 E3
 90+  C338 E3 E3 E3 E3
 90+  C33C E3 E3 E3 E3
 91+  C340 92 B6 92 00  	db  $92, $B6, $92, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 91+  C344 00 E3 E3 E3
 91+  C348 E3 E3 E3 E3
 91+  C34C E3 E3 E3 E3
 92+  C350 49 6E 00 49  	db  $49, $6E, $00, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 92+  C354 00 E3 E3 E3
 92+  C358 E3 E3 E3 E3
 92+  C35C E3 E3 E3 E3
 93+  C360 00 00 6E 49  	db  $00, $00, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 93+  C364 00 E3 E3 E3
 93+  C368 E3 E3 E3 E3
 93+  C36C E3 E3 E3 E3
 94+  C370 6E 49 00 00  	db  $6E, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 94+  C374 E3 E3 E3 E3
 94+  C378 E3 E3 E3 E3
 94+  C37C E3 E3 E3 E3
 95+  C380 92 6E 00 E3  	db  $92, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 95+  C384 E3 E3 E3 E3
 95+  C388 E3 E3 E3 E3
 95+  C38C E3 E3 E3 E3
 96+  C390 6E 00 E3 E3  	db  $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 96+  C394 E3 E3 E3 E3
 96+  C398 E3 E3 E3 E3
 96+  C39C E3 E3 E3 E3
 97+  C3A0 49 00 E3 E3  	db  $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 97+  C3A4 E3 E3 E3 E3
 97+  C3A8 E3 E3 E3 E3
 97+  C3AC E3 E3 E3 E3
 98+  C3B0 00 6E 00 E3  	db  $00, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 98+  C3B4 E3 E3 E3 E3
 98+  C3B8 E3 E3 E3 E3
 98+  C3BC E3 E3 E3 E3
 99+  C3C0 00 92 00 E3  	db  $00, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
 99+  C3C4 E3 E3 E3 E3
 99+  C3C8 E3 E3 E3 E3
 99+  C3CC E3 E3 E3 E3
100+  C3D0 00 92 92 00  	db  $00, $92, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
100+  C3D4 E3 E3 E3 E3
100+  C3D8 E3 E3 E3 E3
100+  C3DC E3 E3 E3 E3
101+  C3E0 00 92 6E 49  	db  $00, $92, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
101+  C3E4 00 E3 E3 E3
101+  C3E8 E3 E3 E3 E3
101+  C3EC E3 E3 E3 E3
102+  C3F0 6E 49 00 00  	db  $6E, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
102+  C3F4 E3 E3 E3 E3
102+  C3F8 E3 E3 E3 E3
102+  C3FC E3 E3 E3 E3
103+  C400
104+  C400
105+  C400
106+  C400
107+  C400              spikealot_B_1:
108+  C400 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
108+  C404 E3 E3 E3 E3
108+  C408 E3 E3 E3 E3
108+  C40C E3 E3 E3 E3
109+  C410 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $49, $49;
109+  C414 E3 E3 E3 E3
109+  C418 E3 E3 E3 49
109+  C41C B6 6E 49 49
110+  C420 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6, $B6, $92;
110+  C424 E3 E3 E3 E3
110+  C428 E3 E3 E3 92
110+  C42C B6 B6 B6 92
111+  C430 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $B6, $B6, $B6, $B6, $B6;
111+  C434 E3 E3 E3 E3
111+  C438 E3 E3 E3 B6
111+  C43C B6 B6 B6 B6
112+  C440 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $49, $6E, $6E, $92;
112+  C444 E3 E3 E3 E3
112+  C448 E3 E3 E3 00
112+  C44C 49 6E 6E 92
113+  C450 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $B6, $92, $6E;
113+  C454 E3 E3 E3 E3
113+  C458 E3 E3 E3 49
113+  C45C 92 B6 92 6E
114+  C460 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $48, $B1, $48, $48;
114+  C464 E3 E3 E3 E3
114+  C468 E3 E3 E3 00
114+  C46C 48 B1 48 48
115+  C470 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $48, $68, $D6, $92, $0E;
115+  C474 E3 E3 E3 E3
115+  C478 E3 E3 E3 48
115+  C47C 68 D6 92 0E
116+  C480 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $68, $D6, $D6, $D6, $D6;
116+  C484 E3 E3 E3 E3
116+  C488 E3 E3 E3 68
116+  C48C D6 D6 D6 D6
117+  C490 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $68, $68, $68, $68;
117+  C494 E3 E3 E3 E3
117+  C498 E3 E3 49 00
117+  C49C 68 68 68 68
118+  C4A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $48, $68, $68, $68, $68;
118+  C4A4 E3 E3 E3 E3
118+  C4A8 E3 E3 6E 48
118+  C4AC 68 68 68 68
119+  C4B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $68, $68, $48, $68, $48;
119+  C4B4 E3 E3 E3 E3
119+  C4B8 E3 E3 92 68
119+  C4BC 68 48 68 48
120+  C4C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $48, $48, $48, $49, $49;
120+  C4C4 E3 E3 E3 E3
120+  C4C8 E3 E3 6E 48
120+  C4CC 48 48 49 49
121+  C4D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $49, $92, $92;
121+  C4D4 E3 E3 E3 E3
121+  C4D8 E3 E3 49 B6
121+  C4DC 6E 49 92 92
122+  C4E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $B6, $6E, $B6, $B6, $B6;
122+  C4E4 E3 E3 E3 E3
122+  C4E8 E3 E3 00 B6
122+  C4EC 6E B6 B6 B6
123+  C4F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $49, $49, $B6, $B6, $B6;
123+  C4F4 E3 E3 E3 E3
123+  C4F8 E3 E3 00 49
123+  C4FC 49 B6 B6 B6
124+  C500
125+  C500
126+  C500
127+  C500              spikealot_B_2:
128+  C500 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
128+  C504 E3 E3 E3 E3
128+  C508 E3 E3 E3 E3
128+  C50C E3 E3 E3 E3
129+  C510 49 E3 E3 E3  	db  $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
129+  C514 E3 E3 E3 E3
129+  C518 E3 E3 E3 E3
129+  C51C E3 E3 E3 E3
130+  C520 49 49 00 E3  	db  $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
130+  C524 E3 E3 E3 E3
130+  C528 E3 E3 E3 E3
130+  C52C E3 E3 E3 E3
131+  C530 6E 49 49 00  	db  $6E, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
131+  C534 E3 E3 E3 E3
131+  C538 E3 E3 E3 E3
131+  C53C E3 E3 E3 E3
132+  C540 92 6E 49 00  	db  $92, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
132+  C544 E3 E3 E3 E3
132+  C548 E3 E3 E3 E3
132+  C54C E3 E3 E3 E3
133+  C550 49 92 49 49  	db  $49, $92, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
133+  C554 00 E3 E3 E3
133+  C558 E3 E3 E3 E3
133+  C55C E3 E3 E3 E3
134+  C560 48 49 49 49  	db  $48, $49, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
134+  C564 00 E3 E3 E3
134+  C568 E3 E3 E3 E3
134+  C56C E3 E3 E3 E3
135+  C570 B6 6E 49 49  	db  $B6, $6E, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
135+  C574 00 E3 E3 E3
135+  C578 E3 E3 E3 E3
135+  C57C E3 E3 E3 E3
136+  C580 D6 6E 49 00  	db  $D6, $6E, $49, $00, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
136+  C584 00 00 00 E3
136+  C588 E3 E3 E3 E3
136+  C58C E3 E3 E3 E3
137+  C590 B1 49 00 49  	db  $B1, $49, $00, $49, $6E, $92, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
137+  C594 6E 92 49 00
137+  C598 E3 E3 E3 E3
137+  C59C E3 E3 E3 E3
138+  C5A0 68 49 49 92  	db  $68, $49, $49, $92, $92, $B6, $B6, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
138+  C5A4 92 B6 B6 49
138+  C5A8 00 E3 E3 E3
138+  C5AC E3 E3 E3 E3
139+  C5B0 49 00 6E 92  	db  $49, $00, $6E, $92, $B6, $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
139+  C5B4 B6 B6 B6 92
139+  C5B8 00 E3 E3 E3
139+  C5BC E3 E3 E3 E3
140+  C5C0 6E 00 6E 92  	db  $6E, $00, $6E, $92, $92, $6E, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
140+  C5C4 92 6E B6 92
140+  C5C8 00 E3 E3 E3
140+  C5CC E3 E3 E3 E3
141+  C5D0 49 49 49 00  	db  $49, $49, $49, $00, $00, $00, $49, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
141+  C5D4 00 00 49 92
141+  C5D8 00 E3 E3 E3
141+  C5DC E3 E3 E3 E3
142+  C5E0 92 49 00 49  	db  $92, $49, $00, $49, $92, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
142+  C5E4 92 6E 49 00
142+  C5E8 E3 E3 E3 E3
142+  C5EC E3 E3 E3 E3
143+  C5F0 B6 92 00 6E  	db  $B6, $92, $00, $6E, $B6, $B6, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
143+  C5F4 B6 B6 6E 00
143+  C5F8 E3 E3 E3 E3
143+  C5FC E3 E3 E3 E3
144+  C600
145+  C600
146+  C600
147+  C600              spikealot_B_3:
148+  C600 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $92, $49, $6E, $B6, $B6;
148+  C604 E3 E3 E3 E3
148+  C608 E3 E3 00 92
148+  C60C 49 6E B6 B6
149+  C610 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $49, $49, $6E;
149+  C614 E3 E3 E3 E3
149+  C618 E3 E3 E3 6E
149+  C61C 92 49 49 6E
150+  C620 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $B6, $49, $92, $49;
150+  C624 E3 E3 E3 E3
150+  C628 E3 E3 E3 00
150+  C62C B6 49 92 49
151+  C630 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $60, $00, $88, $88, $00;
151+  C634 E3 E3 E3 E3
151+  C638 E3 E3 E3 60
151+  C63C 00 88 88 00
152+  C640 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $60, $60, $00;
152+  C644 E3 E3 E3 E3
152+  C648 E3 E3 E3 49
152+  C64C 00 60 60 00
153+  C650 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $49, $49, $49;
153+  C654 E3 E3 E3 E3
153+  C658 E3 E3 E3 49
153+  C65C 6E 49 49 49
154+  C660 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $B6, $92;
154+  C664 E3 E3 E3 E3
154+  C668 E3 E3 E3 49
154+  C66C B6 6E B6 92
155+  C670 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $00, $92, $92, $49;
155+  C674 E3 E3 E3 E3
155+  C678 E3 E3 E3 6E
155+  C67C 00 92 92 49
156+  C680 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $6E, $00, $49, $6E;
156+  C684 E3 E3 E3 E3
156+  C688 E3 E3 6E B6
156+  C68C 6E 00 49 6E
157+  C690 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $6E, $6E, $49, $00, $49;
157+  C694 E3 E3 E3 E3
157+  C698 E3 E3 00 6E
157+  C69C 6E 49 00 49
158+  C6A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $00, $49, $00, $E3, $49;
158+  C6A4 E3 E3 E3 E3
158+  C6A8 E3 6E 92 00
158+  C6AC 49 00 E3 49
159+  C6B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $6E, $00, $E3, $E3, $E3;
159+  C6B4 E3 E3 E3 E3
159+  C6B8 E3 6E B6 6E
159+  C6BC 00 E3 E3 E3
160+  C6C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $49, $00, $E3, $E3, $E3;
160+  C6C4 E3 E3 E3 E3
160+  C6C8 E3 6E 92 49
160+  C6CC 00 E3 E3 E3
161+  C6D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $B6, $92, $6E, $00, $E3, $E3, $E3;
161+  C6D4 E3 E3 E3 49
161+  C6D8 6E B6 92 6E
161+  C6DC 00 E3 E3 E3
162+  C6E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $92, $6E, $6E, $6E, $49, $00, $E3, $E3;
162+  C6E4 E3 E3 49 6E
162+  C6E8 92 6E 6E 6E
162+  C6EC 49 00 E3 E3
163+  C6F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $00, $00, $00, $00, $E3, $E3, $6E;
163+  C6F4 E3 E3 E3 00
163+  C6F8 00 00 00 00
163+  C6FC 00 E3 E3 6E
164+  C700
165+  C700
166+  C700
167+  C700              spikealot_B_4:
168+  C700 B6 B6 B6 00  	db  $B6, $B6, $B6, $00, $B6, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
168+  C704 B6 6E 49 00
168+  C708 E3 E3 E3 E3
168+  C70C E3 E3 E3 E3
169+  C710 92 B6 92 00  	db  $92, $B6, $92, $00, $92, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
169+  C714 92 49 00 E3
169+  C718 E3 E3 E3 E3
169+  C71C E3 E3 E3 E3
170+  C720 6E 92 00 6E  	db  $6E, $92, $00, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
170+  C724 49 00 E3 E3
170+  C728 E3 E3 E3 E3
170+  C72C E3 E3 E3 E3
171+  C730 88 00 60 60  	db  $88, $00, $60, $60, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
171+  C734 00 00 E3 E3
171+  C738 E3 E3 E3 E3
171+  C73C E3 E3 E3 E3
172+  C740 60 00 00 00  	db  $60, $00, $00, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
172+  C744 00 00 E3 E3
172+  C748 E3 E3 E3 E3
172+  C74C E3 E3 E3 E3
173+  C750 49 49 6E 6E  	db  $49, $49, $6E, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
173+  C754 49 00 E3 E3
173+  C758 E3 E3 E3 E3
173+  C75C E3 E3 E3 E3
174+  C760 49 6E 6E 49  	db  $49, $6E, $6E, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
174+  C764 49 00 E3 E3
174+  C768 E3 E3 E3 E3
174+  C76C E3 E3 E3 E3
175+  C770 92 B6 6E 00  	db  $92, $B6, $6E, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
175+  C774 00 E3 E3 E3
175+  C778 E3 E3 E3 E3
175+  C77C E3 E3 E3 E3
176+  C780 B6 B6 92 00  	db  $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
176+  C784 E3 E3 E3 E3
176+  C788 E3 E3 E3 E3
176+  C78C E3 E3 E3 E3
177+  C790 92 B6 00 00  	db  $92, $B6, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
177+  C794 E3 E3 E3 E3
177+  C798 E3 E3 E3 E3
177+  C79C E3 E3 E3 E3
178+  C7A0 00 00 49 92  	db  $00, $00, $49, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
178+  C7A4 00 E3 E3 E3
178+  C7A8 E3 E3 E3 E3
178+  C7AC E3 E3 E3 E3
179+  C7B0 92 B6 92 92  	db  $92, $B6, $92, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
179+  C7B4 00 E3 E3 E3
179+  C7B8 E3 E3 E3 E3
179+  C7BC E3 E3 E3 E3
180+  C7C0 49 92 B6 92  	db  $49, $92, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
180+  C7C4 00 E3 E3 E3
180+  C7C8 E3 E3 E3 E3
180+  C7CC E3 E3 E3 E3
181+  C7D0 E3 6E 92 B6  	db  $E3, $6E, $92, $B6, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
181+  C7D4 6E 00 E3 E3
181+  C7D8 E3 E3 E3 E3
181+  C7DC E3 E3 E3 E3
182+  C7E0 6E 92 B6 92  	db  $6E, $92, $B6, $92, $92, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
182+  C7E4 92 49 00 E3
182+  C7E8 E3 E3 E3 E3
182+  C7EC E3 E3 E3 E3
183+  C7F0 92 92 6E 00  	db  $92, $92, $6E, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
183+  C7F4 00 00 E3 E3
183+  C7F8 E3 E3 E3 E3
183+  C7FC E3 E3 E3 E3
184+  C800
185+  C800
186+  C800              spikealot_D_1:
187+  C800 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
187+  C804 E3 E3 E3 E3
187+  C808 E3 E3 E3 E3
187+  C80C E3 E3 E3 E3
188+  C810 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6;
188+  C814 E3 E3 E3 E3
188+  C818 E3 E3 E3 E3
188+  C81C E3 E3 6E B6
189+  C820 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $B6;
189+  C824 E3 E3 E3 E3
189+  C828 E3 E3 E3 E3
189+  C82C E3 49 B6 B6
190+  C830 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6;
190+  C834 E3 E3 E3 E3
190+  C838 E3 E3 E3 E3
190+  C83C E3 92 B6 B6
191+  C840 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $49, $49;
191+  C844 E3 E3 E3 E3
191+  C848 E3 E3 E3 E3
191+  C84C E3 00 49 49
192+  C850 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $92;
192+  C854 E3 E3 E3 E3
192+  C858 E3 E3 E3 E3
192+  C85C E3 49 6E 92
193+  C860 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $B6;
193+  C864 E3 E3 E3 E3
193+  C868 E3 E3 E3 E3
193+  C86C E3 49 92 B6
194+  C870 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $48, $B1;
194+  C874 E3 E3 E3 E3
194+  C878 E3 E3 E3 E3
194+  C87C E3 00 48 B1
195+  C880 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $48, $68, $D6;
195+  C884 E3 E3 E3 E3
195+  C888 E3 E3 E3 E3
195+  C88C E3 48 68 D6
196+  C890 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $68, $D6, $D6;
196+  C894 E3 E3 E3 E3
196+  C898 E3 E3 E3 E3
196+  C89C E3 68 D6 D6
197+  C8A0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $68, $68;
197+  C8A4 E3 E3 E3 E3
197+  C8A8 E3 E3 E3 E3
197+  C8AC 49 00 68 68
198+  C8B0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $B6, $68;
198+  C8B4 E3 E3 E3 E3
198+  C8B8 E3 E3 E3 E3
198+  C8BC 6E B6 B6 68
199+  C8C0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6, $B6;
199+  C8C4 E3 E3 E3 E3
199+  C8C8 E3 E3 E3 E3
199+  C8CC 92 B6 B6 B6
200+  C8D0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6, $B6;
200+  C8D4 E3 E3 E3 E3
200+  C8D8 E3 E3 E3 E3
200+  C8DC 92 B6 B6 B6
201+  C8E0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $92, $B6;
201+  C8E4 E3 E3 E3 E3
201+  C8E8 E3 E3 E3 E3
201+  C8EC 49 92 92 B6
202+  C8F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $49, $92, $B6;
202+  C8F4 E3 E3 E3 E3
202+  C8F8 E3 E3 E3 E3
202+  C8FC 49 49 92 B6
203+  C900
204+  C900
205+  C900
206+  C900              spikealot_D_2:
207+  C900 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
207+  C904 E3 E3 E3 E3
207+  C908 E3 E3 E3 E3
207+  C90C E3 E3 E3 E3
208+  C910 49 E3 E3 E3  	db  $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
208+  C914 E3 E3 E3 E3
208+  C918 E3 E3 E3 E3
208+  C91C E3 E3 E3 E3
209+  C920 B6 6E 49 E3  	db  $B6, $6E, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
209+  C924 E3 E3 E3 E3
209+  C928 E3 E3 E3 E3
209+  C92C E3 E3 E3 E3
210+  C930 B6 B6 6E 49  	db  $B6, $B6, $6E, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
210+  C934 E3 E3 E3 E3
210+  C938 E3 E3 E3 E3
210+  C93C E3 E3 E3 E3
211+  C940 92 B6 B6 49  	db  $92, $B6, $B6, $49, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
211+  C944 49 E3 E3 E3
211+  C948 E3 E3 E3 E3
211+  C94C E3 E3 E3 E3
212+  C950 6E 49 6E 92  	db  $6E, $49, $6E, $92, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
212+  C954 49 E3 E3 E3
212+  C958 E3 E3 E3 E3
212+  C95C E3 E3 E3 E3
213+  C960 92 92 49 6E  	db  $92, $92, $49, $6E, $49, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
213+  C964 49 49 E3 E3
213+  C968 E3 E3 E3 E3
213+  C96C E3 E3 E3 E3
214+  C970 48 48 48 49  	db  $48, $48, $48, $49, $49, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
214+  C974 49 49 E3 E3
214+  C978 E3 E3 E3 E3
214+  C97C E3 E3 E3 E3
215+  C980 92 0E B6 6E  	db  $92, $0E, $B6, $6E, $49, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
215+  C984 49 49 E3 E3
215+  C988 E3 E3 E3 E3
215+  C98C E3 E3 E3 E3
216+  C990 D6 D6 D6 6E  	db  $D6, $D6, $D6, $6E, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
216+  C994 49 00 00 E3
216+  C998 E3 E3 E3 E3
216+  C99C E3 E3 E3 E3
217+  C9A0 68 68 68 00  	db  $68, $68, $68, $00, $49, $92, $6E, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
217+  C9A4 49 92 6E E3
217+  C9A8 E3 E3 E3 E3
217+  C9AC E3 E3 E3 E3
218+  C9B0 68 48 00 6E  	db  $68, $48, $00, $6E, $6E, $B6, $B6, $6E, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
218+  C9B4 6E B6 B6 6E
218+  C9B8 E3 E3 E3 E3
218+  C9BC E3 E3 E3 E3
219+  C9C0 48 00 49 6E  	db  $48, $00, $49, $6E, $92, $B6, $B6, $B6, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
219+  C9C4 92 B6 B6 B6
219+  C9C8 49 E3 E3 E3
219+  C9CC E3 E3 E3 E3
220+  C9D0 49 49 49 00  	db  $49, $49, $49, $00, $49, $6E, $92, $B6, $49, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
220+  C9D4 49 6E 92 B6
220+  C9D8 49 E3 E3 E3
220+  C9DC E3 E3 E3 E3
221+  C9E0 B6 49 92 B6  	db  $B6, $49, $92, $B6, $00, $00, $49, $6E, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
221+  C9E4 00 00 49 6E
221+  C9E8 E3 E3 E3 E3
221+  C9EC E3 E3 E3 E3
222+  C9F0 B6 00 B6 B6  	db  $B6, $00, $B6, $B6, $92, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
222+  C9F4 92 6E 00 E3
222+  C9F8 E3 E3 E3 E3
222+  C9FC E3 E3 E3 E3
223+  CA00
224+  CA00
225+  CA00
226+  CA00              spikealot_D_3:
227+  CA00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $49, $6E, $92;
227+  CA04 E3 E3 E3 E3
227+  CA08 E3 E3 E3 E3
227+  CA0C 6E 49 6E 92
228+  CA10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $49, $6E;
228+  CA14 E3 E3 E3 E3
228+  CA18 E3 E3 E3 E3
228+  CA1C 6E 92 49 6E
229+  CA20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $6E, $49;
229+  CA24 E3 E3 E3 E3
229+  CA28 E3 E3 E3 E3
229+  CA2C 92 B6 6E 49
230+  CA30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $B6;
230+  CA34 E3 E3 E3 E3
230+  CA38 E3 E3 E3 E3
230+  CA3C 49 B6 6E B6
231+  CA40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $60, $00, $88, $88;
231+  CA44 E3 E3 E3 E3
231+  CA48 E3 E3 E3 E3
231+  CA4C 60 00 88 88
232+  CA50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $00, $49, $00, $60, $60;
232+  CA54 E3 E3 E3 E3
232+  CA58 E3 E3 6E 00
232+  CA5C 49 00 60 60
233+  CA60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $49, $6E, $49, $49, $49;
233+  CA64 E3 E3 E3 E3
233+  CA68 E3 6E B6 49
233+  CA6C 6E 49 49 49
234+  CA70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $00, $6E, $00, $B6, $6E, $B6;
234+  CA74 E3 E3 E3 E3
234+  CA78 49 00 00 6E
234+  CA7C 00 B6 6E B6
235+  CA80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $49, $49, $6E, $92, $92, $92, $00, $49, $00, $6E, $92, $B6;
235+  CA84 49 49 6E 92
235+  CA88 92 92 00 49
235+  CA8C 00 6E 92 B6
236+  CA90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $49, $6E, $92, $92, $B6, $92, $6E, $00, $00, $00, $49, $49;
236+  CA94 49 6E 92 92
236+  CA98 B6 92 6E 00
236+  CA9C 00 00 49 49
237+  CAA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $92, $6E, $00, $E3, $E3, $E3, $00, $00;
237+  CAA4 E3 E3 49 6E
237+  CAA8 92 6E 00 E3
237+  CAAC E3 E3 00 00
238+  CAB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $00, $E3, $E3, $E3, $E3, $E3;
238+  CAB4 E3 E3 E3 E3
238+  CAB8 49 6E 00 E3
238+  CABC E3 E3 E3 E3
239+  CAC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $E3, $E3, $E3, $E3, $E3, $E3;
239+  CAC4 E3 E3 E3 E3
239+  CAC8 E3 00 E3 E3
239+  CACC E3 E3 E3 E3
240+  CAD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
240+  CAD4 E3 E3 E3 E3
240+  CAD8 E3 E3 E3 E3
240+  CADC E3 E3 E3 E3
241+  CAE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
241+  CAE4 E3 E3 E3 E3
241+  CAE8 E3 E3 E3 E3
241+  CAEC E3 E3 E3 E3
242+  CAF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
242+  CAF4 E3 E3 E3 E3
242+  CAF8 E3 E3 E3 E3
242+  CAFC E3 E3 E3 E3
243+  CB00
244+  CB00
245+  CB00
246+  CB00              spikealot_D_4:
247+  CB00 6E 00 92 6E  	db  $6E, $00, $92, $6E, $49, $00, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
247+  CB04 49 00 49 00
247+  CB08 E3 E3 E3 E3
247+  CB0C E3 E3 E3 E3
248+  CB10 00 6E 6E 00  	db  $00, $6E, $6E, $00, $49, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
248+  CB14 49 49 49 00
248+  CB18 E3 E3 E3 E3
248+  CB1C E3 E3 E3 E3
249+  CB20 00 49 49 6E  	db  $00, $49, $49, $6E, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
249+  CB24 6E 49 00 E3
249+  CB28 E3 E3 E3 E3
249+  CB2C E3 E3 E3 E3
250+  CB30 B6 92 92 92  	db  $B6, $92, $92, $92, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
250+  CB34 49 49 00 E3
250+  CB38 E3 E3 E3 E3
250+  CB3C E3 E3 E3 E3
251+  CB40 00 88 00 60  	db  $00, $88, $00, $60, $60, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
251+  CB44 60 00 E3 E3
251+  CB48 E3 E3 E3 E3
251+  CB4C E3 E3 E3 E3
252+  CB50 00 60 00 00  	db  $00, $60, $00, $00, $00, $00, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
252+  CB54 00 00 00 00
252+  CB58 00 E3 E3 E3
252+  CB5C E3 E3 E3 E3
253+  CB60 49 49 49 49  	db  $49, $49, $49, $49, $49, $00, $49, $92, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3;
253+  CB64 49 00 49 92
253+  CB68 6E 00 E3 E3
253+  CB6C E3 E3 E3 E3
254+  CB70 B6 6E 00 00  	db  $B6, $6E, $00, $00, $00, $49, $92, $92, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3;
254+  CB74 00 49 92 92
254+  CB78 92 00 E3 E3
254+  CB7C E3 E3 E3 E3
255+  CB80 6E 00 B6 92  	db  $6E, $00, $B6, $92, $92, $00, $B6, $B6, $6E, $6E, $00, $E3, $E3, $E3, $E3, $E3;
255+  CB84 92 00 B6 B6
255+  CB88 6E 6E 00 E3
255+  CB8C E3 E3 E3 E3
256+  CB90 00 92 B6 B6  	db  $00, $92, $B6, $B6, $92, $00, $92, $92, $B6, $B6, $00, $E3, $E3, $E3, $E3, $E3;
256+  CB94 92 00 92 92
256+  CB98 B6 B6 00 E3
256+  CB9C E3 E3 E3 E3
257+  CBA0 00 49 6E 92  	db  $00, $49, $6E, $92, $00, $6E, $49, $00, $92, $B6, $92, $00, $E3, $E3, $E3, $E3;
257+  CBA4 00 6E 49 00
257+  CBA8 92 B6 92 00
257+  CBAC E3 E3 E3 E3
258+  CBB0 E3 00 00 00  	db  $E3, $00, $00, $00, $00, $00, $00, $E3, $6E, $92, $92, $00, $E3, $E3, $E3, $E3;
258+  CBB4 00 00 00 E3
258+  CBB8 6E 92 92 00
258+  CBBC E3 E3 E3 E3
259+  CBC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $6E, $92, $00, $E3, $E3, $E3, $E3;
259+  CBC4 E3 E3 E3 E3
259+  CBC8 00 6E 92 00
259+  CBCC E3 E3 E3 E3
260+  CBD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $E3, $E3, $E3, $E3, $E3;
260+  CBD4 E3 E3 E3 E3
260+  CBD8 E3 00 00 E3
260+  CBDC E3 E3 E3 E3
261+  CBE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
261+  CBE4 E3 E3 E3 E3
261+  CBE8 E3 E3 E3 E3
261+  CBEC E3 E3 E3 E3
262+  CBF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
262+  CBF4 E3 E3 E3 E3
262+  CBF8 E3 E3 E3 E3
262+  CBFC E3 E3 E3 E3
263+  CC00
264+  CC00
265+  CC00
266+  CC00              spikealot_C_1:
267+  CC00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
267+  CC04 E3 E3 E3 E3
267+  CC08 E3 E3 E3 E3
267+  CC0C E3 E3 E3 E3
268+  CC10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
268+  CC14 E3 E3 E3 E3
268+  CC18 E3 E3 E3 E3
268+  CC1C E3 E3 E3 E3
269+  CC20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $B6, $6E, $49, $49;
269+  CC24 E3 E3 E3 E3
269+  CC28 E3 E3 E3 49
269+  CC2C B6 6E 49 49
270+  CC30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $B6, $B6, $B6, $92;
270+  CC34 E3 E3 E3 E3
270+  CC38 E3 E3 E3 92
270+  CC3C B6 B6 B6 92
271+  CC40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $B6, $B6, $B6, $B6, $B6;
271+  CC44 E3 E3 E3 E3
271+  CC48 E3 E3 E3 B6
271+  CC4C B6 B6 B6 B6
272+  CC50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $49, $6E, $6E, $92;
272+  CC54 E3 E3 E3 E3
272+  CC58 E3 E3 E3 00
272+  CC5C 49 6E 6E 92
273+  CC60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $B6, $92, $6E;
273+  CC64 E3 E3 E3 E3
273+  CC68 E3 E3 E3 49
273+  CC6C 92 B6 92 6E
274+  CC70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $48, $B1, $48, $48;
274+  CC74 E3 E3 E3 E3
274+  CC78 E3 E3 E3 00
274+  CC7C 48 B1 48 48
275+  CC80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $48, $68, $D6, $92, $0E;
275+  CC84 E3 E3 E3 E3
275+  CC88 E3 E3 E3 48
275+  CC8C 68 D6 92 0E
276+  CC90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $6E, $49, $00, $E3, $E3, $E3, $68, $D6, $D6, $D6, $D6;
276+  CC94 E3 6E 49 00
276+  CC98 E3 E3 E3 68
276+  CC9C D6 D6 D6 D6
277+  CCA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $6E, $92, $B6, $B6, $00, $E3, $49, $00, $68, $68, $68, $68;
277+  CCA4 6E 92 B6 B6
277+  CCA8 00 E3 49 00
277+  CCAC 68 68 68 68
278+  CCB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $6E, $92, $92, $B6, $00, $E3, $6E, $48, $68, $68, $68, $68;
278+  CCB4 6E 92 92 B6
278+  CCB8 00 E3 6E 48
278+  CCBC 68 68 68 68
279+  CCC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $49, $6E, $6E, $92, $92, $00, $92, $68, $68, $48, $68, $48;
279+  CCC4 49 6E 6E 92
279+  CCC8 92 00 92 68
279+  CCCC 68 48 68 48
280+  CCD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $49, $6E, $92, $B6, $00, $B6, $48, $48, $48, $49, $49;
280+  CCD4 E3 49 6E 92
280+  CCD8 B6 00 B6 48
280+  CCDC 48 48 49 49
281+  CCE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $6E, $00, $B6, $B6, $6E, $49, $92, $92;
281+  CCE4 E3 E3 49 6E
281+  CCE8 6E 00 B6 B6
281+  CCEC 6E 49 92 92
282+  CCF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $49, $6E, $B6, $92, $B6, $B6, $B6;
282+  CCF4 E3 E3 E3 00
282+  CCF8 00 49 6E B6
282+  CCFC 92 B6 B6 B6
283+  CD00
284+  CD00
285+  CD00
286+  CD00              spikealot_C_2:
287+  CD00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
287+  CD04 E3 E3 E3 E3
287+  CD08 E3 E3 E3 E3
287+  CD0C E3 E3 E3 E3
288+  CD10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
288+  CD14 E3 E3 E3 E3
288+  CD18 E3 E3 E3 E3
288+  CD1C E3 E3 E3 E3
289+  CD20 49 00 E3 E3  	db  $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
289+  CD24 E3 E3 E3 E3
289+  CD28 E3 E3 E3 E3
289+  CD2C E3 E3 E3 E3
290+  CD30 49 49 00 E3  	db  $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
290+  CD34 E3 E3 E3 E3
290+  CD38 E3 E3 E3 E3
290+  CD3C E3 E3 E3 E3
291+  CD40 6E 49 49 00  	db  $6E, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
291+  CD44 E3 E3 E3 E3
291+  CD48 E3 E3 E3 E3
291+  CD4C E3 E3 E3 E3
292+  CD50 92 6E 49 00  	db  $92, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
292+  CD54 E3 E3 E3 E3
292+  CD58 E3 E3 E3 E3
292+  CD5C E3 E3 E3 E3
293+  CD60 49 92 49 49  	db  $49, $92, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
293+  CD64 00 E3 E3 E3
293+  CD68 E3 E3 E3 E3
293+  CD6C E3 E3 E3 E3
294+  CD70 48 49 49 49  	db  $48, $49, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
294+  CD74 00 E3 E3 E3
294+  CD78 E3 E3 E3 E3
294+  CD7C E3 E3 E3 E3
295+  CD80 B6 6E 49 49  	db  $B6, $6E, $49, $49, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
295+  CD84 00 00 00 E3
295+  CD88 E3 E3 E3 E3
295+  CD8C E3 E3 E3 E3
296+  CD90 D6 6E 49 00  	db  $D6, $6E, $49, $00, $00, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
296+  CD94 00 49 49 00
296+  CD98 E3 E3 E3 E3
296+  CD9C E3 E3 E3 E3
297+  CDA0 B1 49 00 49  	db  $B1, $49, $00, $49, $6E, $92, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
297+  CDA4 6E 92 B6 92
297+  CDA8 00 E3 E3 E3
297+  CDAC E3 E3 E3 E3
298+  CDB0 68 49 49 6E  	db  $68, $49, $49, $6E, $92, $B6, $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3;
298+  CDB4 92 B6 B6 B6
298+  CDB8 92 00 E3 E3
298+  CDBC E3 E3 E3 E3
299+  CDC0 49 6E 00 6E  	db  $49, $6E, $00, $6E, $92, $92, $B6, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3;
299+  CDC4 92 92 B6 00
299+  CDC8 00 00 E3 E3
299+  CDCC E3 E3 E3 E3
300+  CDD0 6E 92 00 49  	db  $6E, $92, $00, $49, $6E, $92, $00, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3;
300+  CDD4 6E 92 00 B6
300+  CDD8 92 00 E3 E3
300+  CDDC E3 E3 E3 E3
301+  CDE0 92 6E 49 00  	db  $92, $6E, $49, $00, $6E, $00, $6E, $92, $B6, $49, $00, $E3, $E3, $E3, $E3, $E3;
301+  CDE4 6E 00 6E 92
301+  CDE8 B6 49 00 E3
301+  CDEC E3 E3 E3 E3
302+  CDF0 92 49 00 00  	db  $92, $49, $00, $00, $00, $E3, $00, $00, $92, $6E, $00, $E3, $E3, $E3, $E3, $E3;
302+  CDF4 00 E3 00 00
302+  CDF8 92 6E 00 E3
302+  CDFC E3 E3 E3 E3
303+  CE00
304+  CE00
305+  CE00
306+  CE00              spikealot_C_3:
307+  CE00 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $00, $49, $92, $B6, $B6, $92, $92;
307+  CE04 E3 E3 E3 E3
307+  CE08 6E 00 49 92
307+  CE0C B6 B6 92 92
308+  CE10 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $49, $6E, $6E, $49, $49;
308+  CE14 E3 E3 E3 E3
308+  CE18 E3 E3 6E 49
308+  CE1C 6E 6E 49 49
309+  CE20 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $B6, $49, $92, $B6, $B6;
309+  CE24 E3 E3 E3 E3
309+  CE28 E3 E3 6E B6
309+  CE2C 49 92 B6 B6
310+  CE30 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $6E, $92, $B6, $B6, $B6;
310+  CE34 E3 E3 E3 E3
310+  CE38 E3 E3 49 6E
310+  CE3C 92 B6 B6 B6
311+  CE40 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $60, $00, $88, $88, $00, $88;
311+  CE44 E3 E3 E3 E3
311+  CE48 E3 E3 60 00
311+  CE4C 88 88 00 88
312+  CE50 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $00, $60, $60, $00, $60;
312+  CE54 E3 E3 E3 E3
312+  CE58 E3 E3 49 00
312+  CE5C 60 60 00 60
313+  CE60 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $B6, $B6, $B6;
313+  CE64 E3 E3 E3 E3
313+  CE68 E3 E3 E3 00
313+  CE6C 00 B6 B6 B6
314+  CE70 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $92, $92, $00, $B6, $92;
314+  CE74 E3 E3 E3 E3
314+  CE78 E3 E3 E3 92
314+  CE7C 92 00 B6 92
315+  CE80 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $49, $6E, $B6, $B6, $92, $00, $49;
315+  CE84 E3 E3 E3 6E
315+  CE88 92 49 6E B6
315+  CE8C B6 92 00 49
316+  CE90 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $92, $B6, $B6, $92, $49, $00, $49;
316+  CE94 E3 E3 E3 49
316+  CE98 92 92 B6 B6
316+  CE9C 92 49 00 49
317+  CEA0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $6E, $92, $92, $6E, $00, $E3, $00;
317+  CEA4 E3 E3 E3 E3
317+  CEA8 E3 6E 92 92
317+  CEAC 6E 00 E3 00
318+  CEB0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $49, $92, $49, $00, $E3, $E3;
318+  CEB4 E3 E3 E3 E3
318+  CEB8 E3 E3 49 92
318+  CEBC 49 00 E3 E3
319+  CEC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $00, $00, $E3, $E3, $E3;
319+  CEC4 E3 E3 E3 E3
319+  CEC8 E3 E3 E3 00
319+  CECC 00 E3 E3 E3
320+  CED0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
320+  CED4 E3 E3 E3 E3
320+  CED8 E3 E3 E3 E3
320+  CEDC E3 E3 E3 E3
321+  CEE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
321+  CEE4 E3 E3 E3 E3
321+  CEE8 E3 E3 E3 E3
321+  CEEC E3 E3 E3 E3
322+  CEF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
322+  CEF4 E3 E3 E3 E3
322+  CEF8 E3 E3 E3 E3
322+  CEFC E3 E3 E3 E3
323+  CF00
324+  CF00
325+  CF00
326+  CF00              spikealot_C_4:
327+  CF00 00 00 49 49  	db  $00, $00, $49, $49, $00, $92, $B6, $B6, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3;
327+  CF04 00 92 B6 B6
327+  CF08 00 00 E3 E3
327+  CF0C E3 E3 E3 E3
328+  CF10 49 49 49 B6  	db  $49, $49, $49, $B6, $B6, $B6, $B6, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3;
328+  CF14 B6 B6 B6 B6
328+  CF18 92 00 E3 E3
328+  CF1C E3 E3 E3 E3
329+  CF20 B6 6E 49 B6  	db  $B6, $6E, $49, $B6, $B6, $B6, $B6, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
329+  CF24 B6 B6 B6 00
329+  CF28 00 E3 E3 E3
329+  CF2C E3 E3 E3 E3
330+  CF30 92 49 00 92  	db  $92, $49, $00, $92, $B6, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
330+  CF34 B6 92 00 E3
330+  CF38 E3 E3 E3 E3
330+  CF3C E3 E3 E3 E3
331+  CF40 00 60 60 00  	db  $00, $60, $60, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
331+  CF44 00 00 E3 E3
331+  CF48 E3 E3 E3 E3
331+  CF4C E3 E3 E3 E3
332+  CF50 00 00 00 00  	db  $00, $00, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
332+  CF54 E3 E3 E3 E3
332+  CF58 E3 E3 E3 E3
332+  CF5C E3 E3 E3 E3
333+  CF60 00 49 49 00  	db  $00, $49, $49, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
333+  CF64 00 E3 E3 E3
333+  CF68 E3 E3 E3 E3
333+  CF6C E3 E3 E3 E3
334+  CF70 92 00 00 49  	db  $92, $00, $00, $49, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
334+  CF74 6E 00 E3 E3
334+  CF78 E3 E3 E3 E3
334+  CF7C E3 E3 E3 E3
335+  CF80 00 00 49 6E  	db  $00, $00, $49, $6E, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
335+  CF84 92 00 E3 E3
335+  CF88 E3 E3 E3 E3
335+  CF8C E3 E3 E3 E3
336+  CF90 6E 00 6E 92  	db  $6E, $00, $6E, $92, $B6, $6E, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
336+  CF94 B6 6E 00 E3
336+  CF98 E3 E3 E3 E3
336+  CF9C E3 E3 E3 E3
337+  CFA0 00 49 6E 6E  	db  $00, $49, $6E, $6E, $6E, $92, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
337+  CFA4 6E 92 00 E3
337+  CFA8 E3 E3 E3 E3
337+  CFAC E3 E3 E3 E3
338+  CFB0 00 00 00 00  	db  $00, $00, $00, $00, $49, $6E, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
338+  CFB4 49 6E 49 00
338+  CFB8 E3 E3 E3 E3
338+  CFBC E3 E3 E3 E3
339+  CFC0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $00, $49, $49, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
339+  CFC4 00 49 49 00
339+  CFC8 E3 E3 E3 E3
339+  CFCC E3 E3 E3 E3
340+  CFD0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $00, $00, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
340+  CFD4 E3 00 00 E3
340+  CFD8 E3 E3 E3 E3
340+  CFDC E3 E3 E3 E3
341+  CFE0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
341+  CFE4 E3 E3 E3 E3
341+  CFE8 E3 E3 E3 E3
341+  CFEC E3 E3 E3 E3
342+  CFF0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
342+  CFF4 E3 E3 E3 E3
342+  CFF8 E3 E3 E3 E3
342+  CFFC E3 E3 E3 E3
343+  D000
344+  D000
345+  D000              pumpkin_1:
346+  D000 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
346+  D004 E3 E3 E3 E3
346+  D008 E3 E3 E3 E3
346+  D00C E3 E3 E3 E3
347+  D010 E3 E3 E3 44  	db  $E3, $E3, $E3, $44, $44, $44, $44, $44, $64, $64, $64, $64, $64, $E3, $E3, $E3;
347+  D014 44 44 44 44
347+  D018 64 64 64 64
347+  D01C 64 E3 E3 E3
348+  D020 E3 E3 44 64  	db  $E3, $E3, $44, $64, $64, $64, $64, $0C, $0C, $64, $A8, $64, $A8, $64, $E3, $E3;
348+  D024 64 64 64 0C
348+  D028 0C 64 A8 64
348+  D02C A8 64 E3 E3
349+  D030 E3 44 64 64  	db  $E3, $44, $64, $64, $A8, $A8, $64, $08, $08, $64, $A8, $A8, $64, $A8, $64, $E3;
349+  D034 A8 A8 64 08
349+  D038 08 64 A8 A8
349+  D03C 64 A8 64 E3
350+  D040 44 64 64 64  	db  $44, $64, $64, $64, $A8, $A8, $64, $08, $08, $64, $A8, $A8, $A8, $64, $A8, $64;
350+  D044 A8 A8 64 08
350+  D048 08 64 A8 A8
350+  D04C A8 64 A8 64
351+  D050 44 64 A8 64  	db  $44, $64, $A8, $64, $A8, $EC, $64, $EC, $EC, $64, $EC, $A8, $A8, $64, $A8, $64;
351+  D054 A8 EC 64 EC
351+  D058 EC 64 EC A8
351+  D05C A8 64 A8 64
352+  D060 44 64 A8 00  	db  $44, $64, $A8, $00, $64, $EC, $64, $EC, $EC, $64, $EC, $64, $00, $64, $A8, $64;
352+  D064 64 EC 64 EC
352+  D068 EC 64 EC 64
352+  D06C 00 64 A8 64
353+  D070 44 64 A8 00  	db  $44, $64, $A8, $00, $00, $64, $64, $EC, $EC, $64, $64, $00, $00, $64, $A8, $64;
353+  D074 00 64 64 EC
353+  D078 EC 64 64 00
353+  D07C 00 64 A8 64
354+  D080 44 64 A8 A8  	db  $44, $64, $A8, $A8, $00, $00, $00, $EC, $EC, $00, $00, $00, $A8, $64, $A8, $64;
354+  D084 00 00 00 EC
354+  D088 EC 00 00 00
354+  D08C A8 64 A8 64
355+  D090 44 64 A8 A8  	db  $44, $64, $A8, $A8, $A8, $EC, $64, $EC, $EC, $64, $EC, $EC, $A8, $64, $A8, $64;
355+  D094 A8 EC 64 EC
355+  D098 EC 64 EC EC
355+  D09C A8 64 A8 64
356+  D0A0 44 64 A8 A8  	db  $44, $64, $A8, $A8, $00, $EC, $64, $EC, $EC, $64, $EC, $00, $A8, $64, $A8, $64;
356+  D0A4 00 EC 64 EC
356+  D0A8 EC 64 EC 00
356+  D0AC A8 64 A8 64
357+  D0B0 20 64 64 A8  	db  $20, $64, $64, $A8, $A8, $00, $00, $00, $00, $00, $00, $A8, $A8, $64, $64, $20;
357+  D0B4 A8 00 00 00
357+  D0B8 00 00 00 A8
357+  D0BC A8 64 64 20
358+  D0C0 E3 44 64 64  	db  $E3, $44, $64, $64, $A8, $A8, $64, $A8, $A8, $64, $A8, $A8, $64, $64, $44, $E3;
358+  D0C4 A8 A8 64 A8
358+  D0C8 A8 64 A8 A8
358+  D0CC 64 64 44 E3
359+  D0D0 E3 44 44 64  	db  $E3, $44, $44, $64, $64, $64, $64, $44, $44, $64, $64, $64, $64, $44, $44, $E3;
359+  D0D4 64 64 64 44
359+  D0D8 44 64 64 64
359+  D0DC 64 44 44 E3
360+  D0E0 E3 E3 44 44  	db  $E3, $E3, $44, $44, $44, $44, $44, $E3, $E3, $44, $44, $44, $44, $44, $E3, $E3;
360+  D0E4 44 44 44 E3
360+  D0E8 E3 44 44 44
360+  D0EC 44 44 E3 E3
361+  D0F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
361+  D0F4 E3 E3 E3 E3
361+  D0F8 E3 E3 E3 E3
361+  D0FC E3 E3 E3 E3
362+  D100
363+  D100
364+  D100
365+  D100              pumpkin_2:
366+  D100 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
366+  D104 E3 E3 E3 E3
366+  D108 E3 E3 E3 E3
366+  D10C E3 E3 E3 E3
367+  D110 E3 E3 E3 A8  	db  $E3, $E3, $E3, $A8, $A8, $A8, $A8, $A8, $A8, $A8, $A8, $A8, $A8, $E3, $E3, $E3;
367+  D114 A8 A8 A8 A8
367+  D118 A8 A8 A8 A8
367+  D11C A8 E3 E3 E3
368+  D120 E3 E3 A8 EC  	db  $E3, $E3, $A8, $EC, $A8, $EC, $A8, $0C, $0C, $A8, $EC, $A8, $EC, $EC, $E3, $E3;
368+  D124 A8 EC A8 0C
368+  D128 0C A8 EC A8
368+  D12C EC EC E3 E3
369+  D130 E3 A8 EC A8  	db  $E3, $A8, $EC, $A8, $EC, $EC, $A8, $08, $08, $A8, $EC, $EC, $A8, $EC, $EC, $E3;
369+  D134 EC EC A8 08
369+  D138 08 A8 EC EC
369+  D13C A8 EC EC E3
370+  D140 A8 EC A8 EC  	db  $A8, $EC, $A8, $EC, $EC, $EC, $A8, $08, $08, $A8, $EC, $EC, $EC, $A8, $EC, $EC;
370+  D144 EC EC A8 08
370+  D148 08 A8 EC EC
370+  D14C EC A8 EC EC
371+  D150 EC EC A8 EC  	db  $EC, $EC, $A8, $EC, $EC, $EC, $A8, $EC, $EC, $A8, $EC, $EC, $EC, $A8, $EC, $EC;
371+  D154 EC EC A8 EC
371+  D158 EC A8 EC EC
371+  D15C EC A8 EC EC
372+  D160 EC EC A8 E0  	db  $EC, $EC, $A8, $E0, $EC, $EC, $A8, $EC, $EC, $A8, $EC, $EC, $E0, $A8, $EC, $EC;
372+  D164 EC EC A8 EC
372+  D168 EC A8 EC EC
372+  D16C E0 A8 EC EC
373+  D170 EC EC A8 E0  	db  $EC, $EC, $A8, $E0, $E0, $E0, $A8, $EC, $EC, $A8, $E0, $E0, $E0, $A8, $EC, $EC;
373+  D174 E0 E0 A8 EC
373+  D178 EC A8 E0 E0
373+  D17C E0 A8 EC EC
374+  D180 EC EC A8 EC  	db  $EC, $EC, $A8, $EC, $E0, $B4, $FC, $EC, $EC, $FC, $B4, $E0, $EC, $A8, $EC, $EC;
374+  D184 E0 B4 FC EC
374+  D188 EC FC B4 E0
374+  D18C EC A8 EC EC
375+  D190 EC EC A8 EC  	db  $EC, $EC, $A8, $EC, $EC, $EC, $A8, $EC, $EC, $A8, $EC, $EC, $EC, $A8, $EC, $EC;
375+  D194 EC EC A8 EC
375+  D198 EC A8 EC EC
375+  D19C EC A8 EC EC
376+  D1A0 EC EC A8 EC  	db  $EC, $EC, $A8, $EC, $B4, $EC, $A8, $EC, $EC, $A8, $EC, $B4, $EC, $A8, $EC, $EC;
376+  D1A4 B4 EC A8 EC
376+  D1A8 EC A8 EC B4
376+  D1AC EC A8 EC EC
377+  D1B0 90 EC A8 EC  	db  $90, $EC, $A8, $EC, $EC, $B4, $B4, $B4, $B4, $B4, $B4, $EC, $EC, $A8, $EC, $90;
377+  D1B4 EC B4 B4 B4
377+  D1B8 B4 B4 B4 EC
377+  D1BC EC A8 EC 90
378+  D1C0 E3 B4 A8 EC  	db  $E3, $B4, $A8, $EC, $EC, $EC, $A8, $EC, $EC, $A8, $EC, $EC, $EC, $A8, $B4, $E3;
378+  D1C4 EC EC A8 EC
378+  D1C8 EC A8 EC EC
378+  D1CC EC A8 B4 E3
379+  D1D0 E3 B4 B4 EC  	db  $E3, $B4, $B4, $EC, $EC, $EC, $A8, $D8, $D8, $A8, $EC, $EC, $EC, $B4, $B4, $E3;
379+  D1D4 EC EC A8 D8
379+  D1D8 D8 A8 EC EC
379+  D1DC EC B4 B4 E3
380+  D1E0 E3 E3 B4 B4  	db  $E3, $E3, $B4, $B4, $B4, $D8, $D8, $E3, $E3, $D8, $D8, $B4, $B4, $B4, $E3, $E3;
380+  D1E4 B4 D8 D8 E3
380+  D1E8 E3 D8 D8 B4
380+  D1EC B4 B4 E3 E3
381+  D1F0 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3, $E3;
381+  D1F4 E3 E3 E3 E3
381+  D1F8 E3 E3 E3 E3
381+  D1FC E3 E3 E3 E3
382+  D200
383+  D200
384+  D200              pacghost_1:
385+  D200 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3, $E3, $E3, $E3;
385+  D204 E3 7C 7C 7C
385+  D208 7C 7C 7C E3
385+  D20C E3 E3 E3 E3
386+  D210 E3 E3 E3 7C  	db  $E3, $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3, $E3;
386+  D214 7C 7C 7C 7C
386+  D218 7C 7C 7C 7C
386+  D21C 7C E3 E3 E3
387+  D220 E3 E3 7C 7C  	db  $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3;
387+  D224 7C 7C 7C 7C
387+  D228 7C 7C 7C 7C
387+  D22C 7C 7C E3 E3
388+  D230 E3 7C 7C 7C  	db  $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3;
388+  D234 7C 7C 7C 7C
388+  D238 7C 7C 7C 7C
388+  D23C 7C 7C 7C E3
389+  D240 7C 7C FF FF  	db  $7C, $7C, $FF, $FF, $7C, $7C, $7C, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
389+  D244 7C 7C 7C FF
389+  D248 FF 7C 7C 7C
389+  D24C 7C 7C 7C 7C
390+  D250 7C FF FF FF  	db  $7C, $FF, $FF, $FF, $FF, $7C, $FF, $FF, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
390+  D254 FF 7C FF FF
390+  D258 FF FF 7C 7C
390+  D25C 7C 7C 7C 7C
391+  D260 7C 03 03 FF  	db  $7C, $03, $03, $FF, $FF, $7C, $03, $03, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
391+  D264 FF 7C 03 03
391+  D268 FF FF 7C 7C
391+  D26C 7C 7C 7C 7C
392+  D270 7C 03 03 FF  	db  $7C, $03, $03, $FF, $FF, $7C, $03, $03, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
392+  D274 FF 7C 03 03
392+  D278 FF FF 7C 7C
392+  D27C 7C 7C 7C 7C
393+  D280 7C 7C FF FF  	db  $7C, $7C, $FF, $FF, $7C, $7C, $7C, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
393+  D284 7C 7C 7C FF
393+  D288 FF 7C 7C 7C
393+  D28C 7C 7C 7C 7C
394+  D290 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
394+  D294 7C 7C 7C 7C
394+  D298 7C 7C 7C 7C
394+  D29C 7C 7C 7C 7C
395+  D2A0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
395+  D2A4 7C 7C 7C 7C
395+  D2A8 7C 7C 7C 7C
395+  D2AC 7C 7C 7C 7C
396+  D2B0 7C 7C 08 08  	db  $7C, $7C, $08, $08, $08, $08, $08, $08, $08, $08, $7C, $7C, $7C, $7C, $7C, $7C;
396+  D2B4 08 08 08 08
396+  D2B8 08 08 7C 7C
396+  D2BC 7C 7C 7C 7C
397+  D2C0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
397+  D2C4 7C 7C 7C 7C
397+  D2C8 7C 7C 7C 7C
397+  D2CC 7C 7C 7C 7C
398+  D2D0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
398+  D2D4 7C 7C 7C 7C
398+  D2D8 7C 7C 7C 7C
398+  D2DC 7C 7C 7C 7C
399+  D2E0 7C 7C E3 E3  	db  $7C, $7C, $E3, $E3, $7C, $7C, $7C, $E3, $E3, $7C, $7C, $7C, $E3, $E3, $7C, $7C;
399+  D2E4 7C 7C 7C E3
399+  D2E8 E3 7C 7C 7C
399+  D2EC E3 E3 7C 7C
400+  D2F0 7C E3 E3 E3  	db  $7C, $E3, $E3, $E3, $E3, $7C, $7C, $E3, $E3, $7C, $7C, $E3, $E3, $E3, $E3, $7C;
400+  D2F4 E3 7C 7C E3
400+  D2F8 E3 7C 7C E3
400+  D2FC E3 E3 E3 7C
401+  D300
402+  D300
403+  D300
404+  D300              pacghost_2:
405+  D300 E3 E3 E3 E3  	db  $E3, $E3, $E3, $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3, $E3, $E3, $E3;
405+  D304 E3 7C 7C 7C
405+  D308 7C 7C 7C E3
405+  D30C E3 E3 E3 E3
406+  D310 E3 E3 E3 7C  	db  $E3, $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3, $E3;
406+  D314 7C 7C 7C 7C
406+  D318 7C 7C 7C 7C
406+  D31C 7C E3 E3 E3
407+  D320 E3 E3 7C 7C  	db  $E3, $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3, $E3;
407+  D324 7C 7C 7C 7C
407+  D328 7C 7C 7C 7C
407+  D32C 7C 7C E3 E3
408+  D330 E3 7C 7C 7C  	db  $E3, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $E3;
408+  D334 7C 7C 7C 7C
408+  D338 7C 7C 7C 7C
408+  D33C 7C 7C 7C E3
409+  D340 7C 7C FF FF  	db  $7C, $7C, $FF, $FF, $7C, $7C, $7C, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
409+  D344 7C 7C 7C FF
409+  D348 FF 7C 7C 7C
409+  D34C 7C 7C 7C 7C
410+  D350 7C FF FF FF  	db  $7C, $FF, $FF, $FF, $FF, $7C, $FF, $FF, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
410+  D354 FF 7C FF FF
410+  D358 FF FF 7C 7C
410+  D35C 7C 7C 7C 7C
411+  D360 7C 03 03 FF  	db  $7C, $03, $03, $FF, $FF, $7C, $03, $03, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
411+  D364 FF 7C 03 03
411+  D368 FF FF 7C 7C
411+  D36C 7C 7C 7C 7C
412+  D370 7C 03 03 FF  	db  $7C, $03, $03, $FF, $FF, $7C, $03, $03, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C;
412+  D374 FF 7C 03 03
412+  D378 FF FF 7C 7C
412+  D37C 7C 7C 7C 7C
413+  D380 7C 7C FF FF  	db  $7C, $7C, $FF, $FF, $7C, $7C, $7C, $FF, $FF, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
413+  D384 7C 7C 7C FF
413+  D388 FF 7C 7C 7C
413+  D38C 7C 7C 7C 7C
414+  D390 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
414+  D394 7C 7C 7C 7C
414+  D398 7C 7C 7C 7C
414+  D39C 7C 7C 7C 7C
415+  D3A0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
415+  D3A4 7C 7C 7C 7C
415+  D3A8 7C 7C 7C 7C
415+  D3AC 7C 7C 7C 7C
416+  D3B0 7C 7C 08 08  	db  $7C, $7C, $08, $08, $08, $08, $08, $08, $08, $08, $7C, $7C, $7C, $7C, $7C, $7C;
416+  D3B4 08 08 08 08
416+  D3B8 08 08 7C 7C
416+  D3BC 7C 7C 7C 7C
417+  D3C0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
417+  D3C4 7C 7C 7C 7C
417+  D3C8 7C 7C 7C 7C
417+  D3CC 7C 7C 7C 7C
418+  D3D0 7C 7C 7C 7C  	db  $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C, $7C;
418+  D3D4 7C 7C 7C 7C
418+  D3D8 7C 7C 7C 7C
418+  D3DC 7C 7C 7C 7C
419+  D3E0 7C E3 7C 7C  	db  $7C, $E3, $7C, $7C, $7C, $E3, $E3, $7C, $7C, $7C, $E3, $E3, $7C, $7C, $7C, $7C;
419+  D3E4 7C E3 E3 7C
419+  D3E8 7C 7C E3 E3
419+  D3EC 7C 7C 7C 7C
420+  D3F0 7C E3 E3 7C  	db  $7C, $E3, $E3, $7C, $E3, $E3, $E3, $E3, $7C, $E3, $E3, $E3, $E3, $7C, $E3, $7C;
420+  D3F4 E3 E3 E3 E3
420+  D3F8 7C E3 E3 E3
420+  D3FC E3 7C E3 7C
421+  D400
422+  D400
423+  D400
424+  D400
425+  D400
426+  D400
427+  D400              ;;;;;;Fonts
428+  D400
429+  D400
430+  D400
431+  D400                  MMU 6,17
432+  D400              	org 0xC000
433+  C000
434+  C000 00 00 00...  	ds 64,0
435+  C040              	; incbin "fonts/font1.spr"
436+  C040              	; incbin "fonts/font2.spr"
437+  C040              	; incbin "fonts/font3.spr"
438+  C040              	; incbin "fonts/font4.spr"
439+  C040              	; incbin "fonts/font5.spr"
440+  C040              	; incbin "fonts/font6.spr"
441+  C040              	incbin "fonts/font7.spr"
442+  D040              	; incbin "fonts/font8.spr"
443+  D040              	; incbin "fonts/font9.spr"
444+  D040              	; incbin "fonts/font10.spr"
445+  D040              	; incbin "fonts/font11.spr"
446+  D040              	; incbin "fonts/font12.spr"
447+  D040              	; incbin "fonts/font13.spr"
448+  D040              	; incbin "fonts/font14.spr"
449+  D040              	; incbin "fonts/font15.spr"
450+  D040              	; incbin "fonts/font16.spr"
451+  D040              	; ; incbin "fonts/font17.spr"
452+  D040              	; incbin "fonts/font18.spr" *not mapped same as others (?)
453+  D040
454+  D040
455+  D040
456+  D040
457+  D040              ;; Layer2
458+  D040
459+  D040              	; MMU 7 n,40
460+  D040              	; org $e000
461+  D040              	; incbin "assets/sky.bmp", 1078
462+  D040
463+  D040              	MMU 7 n,40
464+  D040              	org $e000
465+  E000              	incbin "assets/skybigrotated.bmp", 1078
# file closed: src/loadbins.asm
 41   E000
 42   E000
 43   E000
 44   E000              	SAVENEX OPEN "main.nex", start , stack_top
 45   E000                  SAVENEX CORE 3, 0, 0
 46   E000                  SAVENEX CFG 0, 0
 47   E000              	SAVENEX AUTO
 48   E000                  SAVENEX CLOSE
 49   E000
 50   E000
 51   E000
# file closed: src/main.asm
